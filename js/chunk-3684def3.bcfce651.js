(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3684def3"],{"250f":function(e,r,t){},c8e9:function(e,r,t){"use strict";var s=t("250f"),o=t.n(s);o.a},d50e:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"agent-sign-box"},[t("el-form",{ref:"registerForm",staticClass:"sign-form register",attrs:{model:e.registerForm,rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"img-icon-user-2",placeholder:e.$t("agent.form.usernamePlaceholder")},model:{value:e.registerForm.username,callback:function(r){e.$set(e.registerForm,"username",r)},expression:"registerForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:e.showPass?"text":"password","prefix-icon":"img-icon-password-1",placeholder:e.$t("agent.form.passwordPlaceholder")},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}},[t("template",{slot:"suffix"},[t("i",{staticClass:"icon",class:e.showPass?"icon-eye":"icon-eye-closed2",on:{click:function(r){e.showPass=!e.showPass}}})])],2)],1),t("el-form-item",{attrs:{prop:"wechat"}},[t("el-input",{attrs:{"prefix-icon":"img-icon-wechat",placeholder:e.$t("agent.form.wechatPlaceholder")},model:{value:e.registerForm.wechat,callback:function(r){e.$set(e.registerForm,"wechat",r)},expression:"registerForm.wechat"}})],1),t("el-form-item",{attrs:{prop:"skype"}},[t("el-input",{attrs:{"prefix-icon":"img-icon-skype",placeholder:e.$t("agent.form.skypePlaceholder")},model:{value:e.registerForm.skype,callback:function(r){e.$set(e.registerForm,"skype",r)},expression:"registerForm.skype"}})],1),t("el-form-item",{staticClass:"phone",attrs:{prop:"mobile"}},[t("span",{staticClass:"plus"},[e._v("+")]),t("div",{staticClass:"line"}),t("el-input",{staticClass:"input-with-select",attrs:{type:"number",placeholder:e.$t("agent.form.phonePlaceholder"),oninput:"if(value.length>11)value=value.slice(0,11)"},model:{value:e.registerForm.mobile,callback:function(r){e.$set(e.registerForm,"mobile",r)},expression:"registerForm.mobile"}},[t("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.registerForm.phone_area_code,callback:function(r){e.$set(e.registerForm,"phone_area_code",r)},expression:"registerForm.phone_area_code"}},[t("i",{staticClass:"el-input__icon img-icon-phone-2",attrs:{slot:"prefix"},slot:"prefix"}),e._l(e.phoneCodes,(function(r,s){return t("el-option",{key:s,attrs:{value:r.split("-")[2]}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(r.split("-")[1]))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(r.split("-")[2]))])])}))],2)],1)],1),t("div",{staticClass:"agree-check-box"},[t("span",{on:{click:function(r){e.resiterrule=!e.resiterrule}}},[t("i",{staticClass:"checkedbox",class:e.resiterrule&&"checked"}),e._v("同意并接受《合作代理条款》 ")])]),t("div",{staticClass:"button-box"},[t("el-button",{staticClass:"submit",attrs:{type:"primary",loading:e.submitRegisterLoading},on:{click:e.doRegister}},[e._v(" "+e._s(e.$t("agent.registerBtn"))+" ")])],1)],1)],1)},o=[],n=(t("a4d3"),t("4de4"),t("4160"),t("e439"),t("dbb4"),t("b64b"),t("d3b7"),t("4d63"),t("ac1f"),t("25f0"),t("159b"),t("96cf"),t("2fa7")),i=t("2f62"),a=t("365c"),c=t("bbbc");function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(t,!0).forEach((function(r){Object(n["a"])(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var p={name:"AgentResiter",data:function(){var e=this;return{visible:!1,active:"account",resiterrule:!0,phoneCodes:[],phoneCode:86,showPass:!1,form:{username:"",password:""},registerForm:{username:"",password:"",wechat:"",skype:"",phone_area_code:86,mobile:null,smsCode:null},submitLoginLoading:!1,submitRegisterLoading:!1,rules:{username:[{trigger:"blur",validator:function(r,t,s){""===t?s(new Error(e.$t("message.accountPlaceholder"))):s()}}],password:[{trigger:"blur",validator:function(r,t,s){console.log(r),""===t?s(new Error(e.$t("message.passwordPlaceholder"))):new RegExp(/^[A-Za-z0-9]{6,12}$/).test(t)?s():s(new Error(e.$t("message.formatPassword")))}}],wechat:[{trigger:"blur",validator:function(r,t,s){t?s():s(new Error(e.$t("agent.form.wechatPlaceholder")))}}],skype:[],mobile:[{trigger:"blur",validator:function(r,t,s){""===t?s(new Error(e.$t("message.telPlaceholder"))):new RegExp(/^[0-9]{5,16}$/).test(t)?s():s(new Error(e.$t("message.formatTel2")))}}]}}},computed:u({},Object(i["e"])("agent",["loginVisible"])),watch:{loginVisible:function(e){this.visible=e}},created:function(){this.phoneArea(),this.visible=this.loginVisible},methods:u({},Object(i["b"])("agent",["login","setLoginVisible","getUserInfo"]),{phoneArea:function(){var e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(a["u"])());case 2:e=r.sent,this.phoneCodes=e;case 4:case"end":return r.stop()}}),null,this)},doLogin:function(){var e=this;this.$refs["form"].validate((function(r){var t,s,o;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:r&&(e.submitLoginLoading=!0,t=e.form,s=t.username,o=t.password,e.login({username:s,password:o}).then((function(){e.getUserInfo(),e.submitLoginLoading=!1,e.$router.push({name:"AgentDashboard",query:{login:void 0}}),e.setLoginVisible(!1)})).catch((function(){e.submitLoginLoading=!1})));case 1:case"end":return n.stop()}}))}))},doRegister:function(){var e=this;this.$refs["registerForm"].validate((function(r){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=21;break}return t.prev=1,e.submitRegisterLoading=!0,Object.assign(e.registerForm,{repassword:e.registerForm.password,domain:window.location.host}),t.next=6,regeneratorRuntime.awrap(Object(c["o"])(e.registerForm));case 6:return e.$message.success(e.$t("message.signupSuccess")),e.submitRegisterLoading=!1,t.next=10,regeneratorRuntime.awrap(e.login({username:e.registerForm.username,password:e.registerForm.password}));case 10:return t.next=12,regeneratorRuntime.awrap(e.getUserInfo());case 12:e.setLoginVisible(!1),e.$router.push({name:"AgentDashboard"}),t.next=18;break;case 16:t.prev=16,t.t0=t["catch"](1);case 18:return t.prev=18,e.submitRegisterLoading=!1,t.finish(18);case 21:case"end":return t.stop()}}),null,null,[[1,16,18,21]])}))},handleCountdownEnd:function(e){this.counting=!1},handleClose:function(e){this.setLoginVisible(!1),e&&"function"===typeof e&&e()}})},g=p,m=(t("c8e9"),t("2877")),d=Object(m["a"])(g,s,o,!1,null,"26def93a",null);r["default"]=d.exports}}]);