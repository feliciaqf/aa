(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c1b6f2d"],{"17cf":function(e,t,r){"use strict";var s=r("ca50"),a=r.n(s);a.a},2287:function(e,t,r){"use strict";var s=r("b1d1"),a=r.n(s);a.a},"305e":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"agent-dialog"},[r("el-dialog",{attrs:{visible:e.visible,"before-close":e.handleClose,width:"500px",title:e.$t("message.passwordModify")},on:{"update:visible":function(t){e.visible=t}}},[r("el-form",{ref:"form",attrs:{"label-position":"top",rules:e.rules,model:e.form}},[r("el-form-item",{attrs:{prop:"old_password",label:e.$t("message.inputOldPassword")+"："}},[r("el-input",{attrs:{type:"password",placeholder:e.$t("message.oldPasswordPlaceholder")},model:{value:e.form.old_password,callback:function(t){e.$set(e.form,"old_password",t)},expression:"form.old_password"}})],1),r("el-form-item",{attrs:{prop:"password",label:e.$t("message.inputNewPassword")+"："}},[r("el-input",{attrs:{type:"password",placeholder:e.$t("message.newPasswordPlaceholder")},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{prop:"repassword",label:e.$t("message.confirmPassword")+"："}},[r("el-input",{attrs:{type:"password",placeholder:e.$t("message.repasswordPlaceholder")},model:{value:e.form.repassword,callback:function(t){e.$set(e.form,"repassword",t)},expression:"form.repassword"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-button",{staticClass:"submit",attrs:{type:"primary",loading:e.submitLoading},on:{click:e.onSubmit}},[e._v(" "+e._s(e.$t("message.confirmModify"))+" ")])],1),r("div",{staticClass:"form-text",attrs:{html:e.$t("message.modifyPasswordTip")}})],1)],1)],1)},a=[],n=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),r("159b"),r("96cf"),r("2fa7")),o=r("bbbc"),i=r("2f62");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={name:"ChangePassword",data:function(){var e=this;return{submitLoading:!1,visible:!1,form:{password:"",repassword:"",old_password:""},rules:{old_password:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$t("message.oldPasswordPlaceholder"))):new RegExp(/^[A-Za-z0-9]{6,12}$/).test(r)?s():s(new Error(e.$t("message.formatPassword")))}}],password:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$t("message.passwordPlaceholder"))):new RegExp(/^[A-Za-z0-9]{6,12}$/).test(r)?r===e.form.old_password?s(new Error(e.$t("message.formatPassword2"))):s():s(new Error(e.$t("message.formatPassword")))}}],repassword:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$t("message.formatConfirmPassword2"))):new RegExp(/^[A-Za-z0-9]{6,12}$/).test(r)?r!==e.form.password?s(new Error(e.$t("message.formatConfirmPassword"))):r===e.form.old_password?s(new Error(e.$t("message.formatPassword2"))):s():s(new Error(e.$t("message.formatPassword")))}}]}}},computed:l({},Object(i["e"])("agent",["userInfo","changePasswordVisible"])),watch:{changePasswordVisible:function(e){this.visible=e}},created:function(){this.visible=this.changePasswordVisible},mounted:function(){},methods:l({},Object(i["b"])("agent",["setChangePasswordVisible","getUserInfo"]),{onSubmit:function(){var e=this;this.$refs["form"].validate((function(t){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=16;break}return r.prev=1,e.submitLoading=!0,r.next=5,regeneratorRuntime.awrap(Object(o["r"])(e.form));case 5:e.$message.success(e.$t("message.operateSuccess")),e.$store.dispatch("agent/logout"),e.setChangePasswordVisible(!1),e.$router.push({name:"AgentLanding",query:{login:1}}),r.next=13;break;case 11:r.prev=11,r.t0=r["catch"](1);case 13:return r.prev=13,e.submitLoading=!1,r.finish(13);case 16:case"end":return r.stop()}}),null,null,[[1,11,13,16]])}))},handleClose:function(e){this.setChangePasswordVisible(!1),e&&"function"===typeof e&&e()}})},d=u,m=(r("2287"),r("2877")),p=Object(m["a"])(d,s,a,!1,null,"fbfa8cdc",null);t["a"]=p.exports},"3b05":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"agent-dialog"},[r("el-dialog",{attrs:{visible:e.visible,"before-close":e.handleClose,width:"600px",title:e.$t("message.bindNewCard")},on:{"update:visible":function(t){e.visible=t}}},[r("el-form",{ref:"form",attrs:{"label-position":"top",model:e.form,rules:e.rules,"hide-required-asterisk":""}},[r("el-form-item",{staticClass:"max-width",attrs:{label:e.$t("message.cardholderName"),prop:"name"}},[r("el-input",{attrs:{maxlength:"30",disabled:e.userInfo&&e.userInfo.realname&&void 0!==e.userInfo.realname,placeholder:e.$t("message.inputCardholderNameDesc")},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{staticClass:"max-width",attrs:{label:e.$t("message.bankAccount"),prop:"card"}},[r("el-input",{attrs:{maxlength:"20",placeholder:e.$t("message.plaseInputBankAccount")},model:{value:e.form.card,callback:function(t){e.$set(e.form,"card",t)},expression:"form.card"}})],1),r("el-form-item",{staticClass:"max-width",attrs:{label:e.$t("message.chooseBank"),prop:"bank"}},[r("el-select",{attrs:{placeholder:e.$t("message.chooseBank")},model:{value:e.form.bank,callback:function(t){e.$set(e.form,"bank",t)},expression:"form.bank"}},e._l(e.bankList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id,disabled:t.disabled}},[r("BankItem",{class:{selected:e.form.bank===t.id},attrs:{bank:t}})],1)})),1)],1),r("el-form-item",{staticClass:"max-width",attrs:{label:e.$t("message.bankBranch"),prop:"bankBranch"}},[r("layout",{staticClass:"multiple",attrs:{"justify-space-between":""}},[r("el-select",{staticClass:"province",attrs:{placeholder:e.$t("message.chooseProvince")},model:{value:e.form.bankBranch.province,callback:function(t){e.$set(e.form.bankBranch,"province",t)},expression:"form.bankBranch.province"}},e._l(e.provinceList,(function(e){return r("el-option",{key:e.code,attrs:{value:e.name,label:e.name}})})),1),r("el-select",{staticClass:"city",attrs:{placeholder:e.$t("message.chooseCity")},model:{value:e.form.bankBranch.city,callback:function(t){e.$set(e.form.bankBranch,"city",t)},expression:"form.bankBranch.city"}},e._l(e.cityList,(function(e){return r("el-option",{key:e.code,attrs:{value:e.name,label:e.name}})})),1)],1),r("layout",[r("el-input",{staticClass:"name",attrs:{maxlength:"100",placeholder:e.$t("message.bankBranchPlaceholder")},model:{value:e.form.bankBranch.name,callback:function(t){e.$set(e.form.bankBranch,"name",t)},expression:"form.bankBranch.name"}})],1)],1),r("el-form-item",{staticClass:"buttons"},[r("el-button",{staticClass:"submit",attrs:{loading:e.submitLoading,type:"primary"},on:{click:e.onSubmit}},[e._v(" "+e._s(e.$t("message.confirmSubmit"))+" ")])],1),r("div",{staticClass:"form-text"},[r("p",[e._v(e._s(e.$t("温馨提示：您最多可绑定4张银行卡，如需修改绑定信息请联系在线客服")))])])],1)],1)],1)},a=[],n=(r("a4d3"),r("4de4"),r("7db0"),r("4160"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0"),r("96cf"),r("2fa7")),o=r("2f62"),i=r("bbbc"),c=r("9d0e");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={name:"BankcardAdd",components:{BankItem:c["a"]},data:function(){var e=this;return{visible:!1,bankList:[],provinceList:[],form:{name:"",card:"",bank:"",bankBranch:{province:"",city:"",name:""}},submitLoading:!1,rules:{card:[{required:!0,message:this.$t("message.plaseInputBankAccount"),trigger:"blur"},{trigger:"blur",type:"number",validator:function(t,r,s){var a=/^(\d{16,19})$/g;a.test(r)||(console.log("hello"),s(new Error(e.$t("银行卡号格式不正确！")))),s()}}],bankBranch:[{type:"object",fields:{province:{required:!0,message:this.$t("message.chooseProvince")},city:{required:!0,message:this.$t("message.chooseCity")},name:{required:!0,message:this.$t("message.bankBranchPlaceholder"),trigger:"blur change"}}}],bank:[{required:!0,type:"number",message:this.$t("message.chooseBank"),trigger:"blur"}]}}},computed:u({},Object(o["e"])("agent",["userInfo","bankcardAddVisible"]),{cityList:function(){var e=this,t=this.provinceList.find((function(t){return t.name===e.form.bankBranch.province}));return t&&1===t.city.length?t.city[0].area:t?t.city:[]}}),watch:{bankcardAddVisible:function(e){console.log("bankcardAddVisible",e),this.visible=e,this.form.name=this.userInfo.realname||""}},created:function(){var e=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.visible=this.bankcardAddVisible,this.form.name=this.userInfo.realname||"",this.userInfo.realname||(this.rules.realname=[{required:!0,message:this.$t("message.inputCardholderNameDesc"),trigger:"blur"},{trigger:"blur",validator:function(t,r,s){var a=/^([\u4e00-\u9fa5]{2,12})$/g;a.test(r)||s(new Error(e.$t("请输入正确的姓名！"))),s()}}]),t.next=5,regeneratorRuntime.awrap(Promise.all([this.loadCityList(),this.getAllBankList()]));case 5:case"end":return t.stop()}}),null,this)},methods:u({},Object(o["b"])("agent",["setBankcardAddVisible","getUserInfo"]),{getAllBankList:function(){var e=this;Object(i["f"])().then((function(t){e.bankList=t}))},loadCityList:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(r("a0da"));case 2:e=t.sent,this.provinceList=e;case 4:case"end":return t.stop()}}),null,this)},onSubmit:function(){var e,t=this;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e=this.userInfo.realname||this.form.name,r.next=4,regeneratorRuntime.awrap(this.$refs.form.validate());case 4:this.submitLoading=!0,Object(i["a"])({bank_id:this.form.bank,card_no:this.form.card,name:e,bank_of_deposit:this.form.bankBranch.province+this.form.bankBranch.city+this.form.bankBranch.name}).then((function(e){t.$refs.form.resetFields(),t.bankBranch={city:"",province:"",name:""},t.submitLoading=!1,t.$message({message:t.$t("message.addSuccess"),type:"success"}),t.$store.dispatch("agent/getUserInfo",!0),t.setBankcardAddVisible(!1)})).catch((function(){t.submitLoading=!1})),r.next=10;break;case 8:r.prev=8,r.t0=r["catch"](0);case 10:case"end":return r.stop()}}),null,this,[[0,8]])},handleClose:function(e){this.setBankcardAddVisible(!1),e&&"function"===typeof e&&e()}})},m=d,p=(r("17cf"),r("6a9e"),r("2877")),f=Object(p["a"])(m,s,a,!1,null,"6dd2b94e",null);t["a"]=f.exports},"3ca3":function(e,t,r){"use strict";var s=r("6547").charAt,a=r("69f3"),n=r("7dd0"),o="String Iterator",i=a.set,c=a.getterFor(o);n(String,"String",(function(e){i(this,{type:o,string:String(e),index:0})}),(function(){var e,t=c(this),r=t.string,a=t.index;return a>=r.length?{value:void 0,done:!0}:(e=s(r,a),t.index+=e.length,{value:e,done:!1})}))},"497a":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"agent-dialog"},[r("el-dialog",{attrs:{visible:e.visible,"before-close":e.handleClose,width:"500px",title:e.$t("agent.createAccount.title")},on:{"update:visible":function(t){e.visible=t}}},[r("el-form",{ref:"form",attrs:{"label-position":"top",rules:e.rules,model:e.form}},[r("el-form-item",{attrs:{prop:"username",label:e.$t("agent.createAccount.username")}},[r("el-input",{attrs:{type:"text",placeholder:e.$t("agent.createAccount.usernamePlaceholder")},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{prop:"password",label:e.$t("agent.createAccount.password")}},[r("el-input",{attrs:{type:"password",placeholder:e.$t("agent.createAccount.passwordPlaceholder")},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",{attrs:{prop:"repassword",label:e.$t("agent.createAccount.repassword")}},[r("el-input",{attrs:{type:"password",placeholder:e.$t("message.repasswordPlaceholder")},model:{value:e.form.repassword,callback:function(t){e.$set(e.form,"repassword",t)},expression:"form.repassword"}})],1),r("el-form-item",{attrs:{label:""}},[r("el-button",{staticClass:"submit",attrs:{type:"primary",loading:e.submitLoading},on:{click:e.onSubmit}},[e._v(" "+e._s(e.$t("agent.createAccount.button"))+" ")])],1)],1)],1)],1)},a=[],n=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),r("159b"),r("96cf"),r("2fa7")),o=r("bbbc"),i=r("2f62");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={name:"CreateAccount",data:function(){var e=this;return{submitLoading:!1,visible:!1,form:{username:"",password:"",repassword:""},rules:{username:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$t("agent.createAccount.usernamePlaceholder"))):new RegExp(/^[A-Za-z0-9]{6,12}$/).test(r)?s():s(new Error(e.$t("message.formatAccount")))}}],password:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$t("agent.createAccount.passwordPlaceholder"))):new RegExp(/^[A-Za-z0-9]{6,12}$/).test(r)?s():s(new Error(e.$t("message.formatPassword")))}}],repassword:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$t("message.repasswordPlaceholder"))):r!==e.form.password?s(new Error(e.$t("message.formatConfirmPassword"))):s()}}]}}},computed:l({},Object(i["e"])("agent",["userInfo","createAccountVisible"])),watch:{createAccountVisible:function(e){this.visible=e}},created:function(){this.visible=this.createAccountVisible},mounted:function(){},methods:l({},Object(i["b"])("agent",["setCreateAccountVisible","getUserInfo"]),{onSubmit:function(){var e=this;this.$refs["form"].validate((function(t){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=14;break}return r.prev=1,e.submitLoading=!0,r.next=5,regeneratorRuntime.awrap(Object(o["b"])(e.form));case 5:e.$message.success(e.$t("agent.createAccount.success")),e.setCreateAccountVisible(!1),r.next=11;break;case 9:r.prev=9,r.t0=r["catch"](1);case 11:return r.prev=11,e.submitLoading=!1,r.finish(11);case 14:case"end":return r.stop()}}),null,null,[[1,9,11,14]])}))},handleClose:function(e){this.setCreateAccountVisible(!1),e&&"function"===typeof e&&e()}})},d=u,m=(r("61ea"),r("2877")),p=Object(m["a"])(d,s,a,!1,null,"76198461",null);t["a"]=p.exports},"5e59":function(e,t,r){},"61ea":function(e,t,r){"use strict";var s=r("f096"),a=r.n(s);a.a},"6a9e":function(e,t,r){"use strict";var s=r("8ce3"),a=r.n(s);a.a},"6d830":function(e,t,r){var s={"./ABC.png":"85d0","./BCCB.png":"17d6","./BOC.png":"fb3f","./BOCOM.png":"89e2","./BOS.png":"0d98","./CCB.png":"02ae","./CEB.png":"1167","./CGB.png":"31a0","./CIB.png":"7f52","./CMB.png":"6fe6","./CMBC.png":"ad20","./Default.png":"b9e4","./ECITIC.png":"49df","./HXB.png":"35ee","./HZCBC.png":"edc5","./ICBC.png":"ebab","./NBCBC.png":"0e2a","./PAB.png":"f9e0","./PSBC.png":"5280","./SPDB.png":"269c","./bg-bank-card.png":"118e"};function a(e){var t=n(e);return r(t)}function n(e){if(!r.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id="6d830"},"7b76":function(e,t,r){"use strict";var s=r("5e59"),a=r.n(s);a.a},"8ce3":function(e,t,r){},9316:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-dialog"},[r("el-dialog",{attrs:{visible:e.visible,"before-close":e.handleClose,width:"500px"},on:{"update:visible":function(t){e.visible=t}}},[r("el-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[r("el-tab-pane",{attrs:{label:e.$t("agent.loginTitle"),name:"account"}},[r("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:e.$t("agent.form.usernamePlaceholder")},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{prop:"password",type:"password",placeholder:e.$t("agent.form.passwordPlaceholder")},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("el-form-item",[r("el-button",{staticClass:"submit",attrs:{type:"primary",loading:e.submitLoginLoading},on:{click:e.doLogin}},[e._v(" "+e._s(e.$t("agent.loginBtn"))+" ")])],1)],1)],1),r("el-tab-pane",{attrs:{label:e.$t("agent.registerTitle"),name:"register"}},[r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.rules}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:e.$t("agent.form.usernamePlaceholder")},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:e.$t("agent.form.passwordPlaceholder")},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}})],1),r("el-form-item",{attrs:{prop:"wechat"}},[r("el-input",{attrs:{placeholder:e.$t("agent.form.wechatPlaceholder")},model:{value:e.registerForm.wechat,callback:function(t){e.$set(e.registerForm,"wechat",t)},expression:"registerForm.wechat"}})],1),r("el-form-item",{attrs:{prop:"skype"}},[r("el-input",{attrs:{placeholder:e.$t("请输入Skype账号")},model:{value:e.registerForm.skype,callback:function(t){e.$set(e.registerForm,"skype",t)},expression:"registerForm.skype"}})],1),r("el-form-item",{staticClass:"phone",attrs:{prop:"mobile"}},[r("svg-icon",{staticClass:"phone",attrs:{link:"phone"}}),r("span",{staticClass:"plus"},[e._v("+")]),r("div",{staticClass:"line"}),r("el-input",{staticClass:"input-with-select",attrs:{type:"number",placeholder:e.$t("agent.form.phonePlaceholder"),oninput:"if(value.length>11)value=value.slice(0,11)"},model:{value:e.registerForm.mobile,callback:function(t){e.$set(e.registerForm,"mobile",t)},expression:"registerForm.mobile"}},[r("el-select",{attrs:{slot:"prepend",placeholder:e.$t("请选择")},slot:"prepend",model:{value:e.registerForm.phone_area_code,callback:function(t){e.$set(e.registerForm,"phone_area_code",t)},expression:"registerForm.phone_area_code"}},e._l(e.phoneCodes,(function(t,s){return r("el-option",{key:s,attrs:{value:t.split("-")[2]}},[r("span",{staticStyle:{float:"left"}},[e._v(e._s(e.$i18n_&&"en"==e.$i18n_.locale?t.split("-")[0]:t.split("-")[1]))]),r("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.split("-")[2]))])])})),1)],1)],1),r("el-form-item",[r("el-button",{staticClass:"submit",attrs:{type:"primary",loading:e.submitRegisterLoading},on:{click:e.doRegister}},[e._v(" "+e._s(e.$t("agent.registerBtn"))+" ")])],1)],1)],1)],1)],1)],1)},a=[],n=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),r("159b"),r("96cf"),r("2fa7")),o=r("2f62"),i=r("365c"),c=r("bbbc");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={name:"LoginModal",data:function(){var e=this;return{visible:!1,active:"account",phoneCodes:[],phoneCode:86,form:{username:"",password:""},registerForm:{username:"",password:"",wechat:"",skype:"",phone_area_code:86,mobile:null,smsCode:null},submitLoginLoading:!1,submitRegisterLoading:!1,rules:{username:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$t("message.accountPlaceholder"))):s()}}],password:[{trigger:"blur",validator:function(t,r,s){console.log(t),""===r?s(new Error(e.$t("message.passwordPlaceholder"))):new RegExp(/^[A-Za-z0-9]{6,12}$/).test(r)?s():s(new Error(e.$t("message.formatPassword")))}}],wechat:[{trigger:"blur",validator:function(t,r,s){r?s():s(new Error(e.$t("agent.form.wechatPlaceholder")))}}],skype:[],mobile:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$t("message.telPlaceholder"))):new RegExp(/^[0-9]{5,16}$/).test(r)?s():s(new Error(e.$t("message.formatTel2")))}}]}}},computed:u({},Object(o["e"])("agent",["loginVisible"])),watch:{loginVisible:function(e){this.visible=e}},created:function(){this.phoneArea(),this.visible=this.loginVisible},methods:u({},Object(o["b"])("agent",["login","setLoginVisible","getUserInfo"]),{phoneArea:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(i["v"])());case 2:e=t.sent,this.phoneCodes=e;case 4:case"end":return t.stop()}}),null,this)},doLogin:function(){var e=this;this.$refs["form"].validate((function(t){var r,s,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:t&&(e.submitLoginLoading=!0,r=e.form,s=r.username,a=r.password,e.login({username:s,password:a}).then((function(){e.getUserInfo(),e.submitLoginLoading=!1,e.$router.push({name:"AgentDashboard",query:{login:void 0}}),e.setLoginVisible(!1)})).catch((function(){e.submitLoginLoading=!1})));case 1:case"end":return n.stop()}}))}))},doRegister:function(){var e=this;this.$refs["registerForm"].validate((function(t){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=21;break}return r.prev=1,e.submitRegisterLoading=!0,Object.assign(e.registerForm,{repassword:e.registerForm.password,domain:window.location.host,id:window.sessionStorage.getItem("agentCode")}),r.next=6,regeneratorRuntime.awrap(Object(c["p"])(e.registerForm));case 6:return e.$message.success(e.$t("message.signupSuccess")),e.submitRegisterLoading=!1,r.next=10,regeneratorRuntime.awrap(e.login({username:e.registerForm.username,password:e.registerForm.password}));case 10:return r.next=12,regeneratorRuntime.awrap(e.getUserInfo());case 12:e.setLoginVisible(!1),e.$router.push({name:"AgentDashboard"}),r.next=18;break;case 16:r.prev=16,r.t0=r["catch"](1);case 18:return r.prev=18,e.submitRegisterLoading=!1,r.finish(18);case 21:case"end":return r.stop()}}),null,null,[[1,16,18,21]])}))},handleCountdownEnd:function(e){this.counting=!1},handleClose:function(e){console.log(111),this.setLoginVisible(!1),e&&"function"===typeof e&&e()}})},m=d,p=(r("7b76"),r("2877")),f=Object(p["a"])(m,s,a,!1,null,"7f464f6e",null);t["a"]=f.exports},b1d1:function(e,t,r){},ca50:function(e,t,r){e.exports={agent_nav_title:"#000000",agent_chart_color:"#C56F48"}},f096:function(e,t,r){}}]);