(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8cfb1b0e"],{"94fc":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"forget-password-page"},[t("div",{staticClass:"sign-box forget-password main-cont"},[t("div",{staticClass:"title"},[e._v(" 找回登录密码 ")]),t("div",{staticClass:"main-body"},[t("el-steps",{staticClass:"steps",attrs:{active:e.step-1,"align-center":"",simple:""}},[t("el-step",{attrs:{title:e.$t("第1步")+" "+e.$t("message.inputAccount"),icon:"none"}}),t("el-step",{attrs:{title:e.$t("第2步")+" "+e.$t("message.validIdentity"),icon:"none"}}),t("el-step",{attrs:{title:e.$t("第3步")+" "+e.$t("message.resetPasswd"),icon:"none"}})],1),t("div",{staticClass:"center"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[1==e.step?t("el-form-item",[t("el-input",{staticClass:"account",attrs:{"prefix-icon":"img-icon-user-1",placeholder:e.$t("message.accountPlaceholder")},model:{value:e.form.username,callback:function(s){e.$set(e.form,"username",s)},expression:"form.username"}})],1):e._e(),2==e.step?t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择"},on:{change:e.passQuestion},model:{value:e.type,callback:function(s){e.type=s},expression:"type"}},[t("i",{staticClass:"el-input__icon img-icon-phone-1",attrs:{slot:"prefix"},slot:"prefix"}),e._l(e.options,(function(s){return t("el-option",{directives:[{name:"show",rawName:"v-show",value:e.info.email&&2==s.value||e.info.mobile&&1==s.value||2==e.info.is_pass_answer&&3==s.value,expression:"\n                  (info.email && item.value == 2) ||\n                  (info.mobile && item.value == 1) ||\n                  (info.is_pass_answer == 2 && item.value == 3)\n                "}],key:s.value,attrs:{label:s.label,value:s.value}})}))],2)],1):e._e(),2==e.step&&3!=e.type?t("div",{staticClass:"show-phone"},[e._v(" 已绑定"+e._s(1==e.type?"手机":"邮箱")+": "),t("span",{directives:[{name:"show",rawName:"v-show",value:1==e.type,expression:"type == 1"}]},[e._v(e._s(e.info.mobile))]),t("span",{directives:[{name:"show",rawName:"v-show",value:2==e.type,expression:"type == 2"}]},[e._v(e._s(e.info.email))])]):e._e(),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.step&&3!=e.type,expression:"step == 2 && type != 3"}],staticClass:"code",attrs:{prop:"code"}},[t("el-input",{attrs:{"prefix-icon":"img-icon-safe-1",placeholder:e.$t("message.verifyCodePlaceholder")},model:{value:e.form.code,callback:function(s){e.$set(e.form,"code",s)},expression:"form.code"}}),e.counting?t("countdown",{attrs:{time:6e4,interval:1e3,tag:"span"},on:{end:e.handleCountdownEnd},scopedSlots:e._u([{key:"default",fn:function(s){return t("el-button",{},[e._v(" "+e._s(e.$t("message.sendVerificationCode"))+"("+e._s(s.seconds)+") ")])}}],null,!1,3730026691)}):t("el-button",{on:{click:e.smsCode}},[e._v(" "+e._s(e.$t("message.sendVerificationCode"))+" ")])],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.step&&3==e.type,expression:"step == 2 && type == 3"}],staticClass:"pass-q"},[t("el-select",{attrs:{placeholder:"请选择",disabled:!0},model:{value:e.form.pass_question_id,callback:function(s){e.$set(e.form,"pass_question_id",s)},expression:"form.pass_question_id"}},e._l(e.questions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.step&&3==e.type,expression:"step == 2 && type == 3"}],staticClass:"pass-a",attrs:{prop:"pass_answer"}},[t("el-input",{attrs:{placeholder:e.$t("message.pwdQuestionAnswer")},model:{value:e.form.pass_answer,callback:function(s){e.$set(e.form,"pass_answer",s)},expression:"form.pass_answer"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.step,expression:"step == 3"}],attrs:{prop:"password"}},[t("el-input",{attrs:{clearable:"","prefix-icon":"img-icon-password-1",type:e.showPass?"text":"password",placeholder:e.$t("message.passwordPlaceholder")},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}},[t("template",{slot:"suffix"},[t("i",{staticClass:"icon",class:e.showPass?"icon-eye":"icon-eye-closed",on:{click:function(s){e.showPass=!e.showPass}}})])],2)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.step,expression:"step == 3"}],attrs:{prop:"rePassword"}},[t("el-input",{attrs:{clearable:"","prefix-icon":"img-icon-password-1",type:e.showPass?"text":"password",placeholder:e.$t("message.passwordPlaceholder")},model:{value:e.form.rePassword,callback:function(s){e.$set(e.form,"rePassword",s)},expression:"form.rePassword"}},[t("template",{slot:"suffix"},[t("i",{staticClass:"icon",class:e.showPass?"icon-eye":"icon-eye-closed",on:{click:function(s){e.showPass1=!e.showPass1}}})])],2)],1)],1),t("layout",{staticClass:"button-box",attrs:{"justify-center":""}},[t("el-button",{attrs:{type:"primary",disabled:e.flag},on:{click:e.next}},[e._v(" "+e._s(e.$t("message.nextStep"))+" ")])],1)],1)],1),t("div",{staticClass:"other"},[t("layout",{staticClass:"pointer",attrs:{"grow-shrink-0":"","align-center":""},on:{click:function(s){return e.$router.push("/")}}},[t("svg-icon",{attrs:{link:"come"}}),e._v(" "+e._s(e.$t("message.goAround"))+" ")],1),t("div",{staticClass:"line"}),t("layout",{staticClass:"pointer",attrs:{"grow-shrink-0":"","align-center":""},on:{click:function(s){return e.$openKefu()}}},[t("svg-icon",{attrs:{link:"customer"}}),e._v(" "+e._s(e.$t("message.yourCustomerService"))+" ")],1)],1)])])},r=[],n=(t("d3b7"),t("96cf"),t("365c")),o={props:["value"],data:function(){var e=this,s=function(s,t,a){if(2==e.step&&3!=e.type&&!t)return a(new Error(e.$t("message.verifyCodePlaceholder")));a()},t=function(s,t,a){if(2==e.step&&3==e.type&&!t)return a(new Error(e.$t("message.pleaseInputAnswer")));a()},a=function(s,t,a){if(3==e.step&&!t)return a(new Error(e.$t("message.passwordPlaceholder")));a()},r=function(s,t,a){if(3==e.step&&(!t||e.form.password!=e.form.rePassword))return a(new Error(e.$t("message.confirmPasswordPlaceholder")));a()};return{step:1,type:1,options:[{value:1,label:this.$t("message.phone")},{value:2,label:this.$t("message.mailbox")},{value:3,label:this.$t("message.passQuestion")}],showPass:!1,showPass1:!1,form:{username:null,code:null,password:null,rePassword:null,pass_question_id:null,pass_answer:null},rules:{code:[{validator:s,trigger:"blur"}],pass_answer:[{validator:t,trigger:"blur"}],password:[{validator:a,trigger:"blur"}],rePassword:[{validator:r,trigger:"blur"}]},visible:!0,counting:!1,info:{},questions:[],aoMenUi:["takchun","10012","10013","mgm8","10006","10011","10007","10009","10010","10015","10019","10021","10008","10034","10057"]}},computed:{flag:function(){return!this.form.username}},methods:{checkAccount:function(){var e;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Object(n["l"])({username:this.form.username}));case 2:if(e=s.sent,0!==e.length){s.next=6;break}return this.$message.error(this.$t("message.hasNoUser")),s.abrupt("return");case 6:e.email||e.mobile||1!=e.is_pass_answer?(this.info=e,this.info.phone_area_code="+".concat(this.info.phone_area_code),this.step+=1,this.form.pass_question_id=e.pass_question_id):this.$message.error(this.$t("message.hasNoValid"));case 7:case"end":return s.stop()}}),null,this)},next:function(){var e;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return e={uid:this.info.id,code:this.form.code,phone_area_code:this.info.phone_area_code,pass_question_id:this.form.pass_question_id,pass_answer:this.form.pass_answer},s.next=3,regeneratorRuntime.awrap(this.$refs.form.validate());case 3:if(1!=this.step){s.next=7;break}this.checkAccount(),s.next=27;break;case 7:if(2!=this.step){s.next=23;break}if(1!=this.type){s.next=13;break}return s.next=11,regeneratorRuntime.awrap(Object(n["k"])(e));case 11:s.next=20;break;case 13:if(2!=this.type){s.next=18;break}return s.next=16,regeneratorRuntime.awrap(Object(n["h"])(e));case 16:s.next=20;break;case 18:return s.next=20,regeneratorRuntime.awrap(Object(n["t"])(e));case 20:this.step+=1,s.next=27;break;case 23:return s.next=25,regeneratorRuntime.awrap(Object(n["i"])({pass_question_id:this.form.pass_question_id,pass_answer:this.form.pass_answer,code:this.form.code,uid:this.info.id,password:this.form.password,repassword:this.form.rePassword,type:this.type}));case 25:this.$message.success(this.$t("message.modifySuccess")),this.$router.push("/");case 27:case"end":return s.stop()}}),null,this)},handleCountdownEnd:function(){this.counting=!1},smsCode:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(this.counting=!0,1!=this.type){e.next=6;break}return e.next=4,regeneratorRuntime.awrap(Object(n["j"])({uid:this.info.id,phone_area_code:this.info.phone_area_code}));case 4:e.next=9;break;case 6:if(2!=this.type){e.next=9;break}return e.next=9,regeneratorRuntime.awrap(Object(n["g"])({uid:this.info.id}));case 9:case"end":return e.stop()}}),null,this)},passQuestion:function(e){var s;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(3==e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,regeneratorRuntime.awrap(Object(n["s"])());case 4:s=t.sent,this.questions=s;case 6:case"end":return t.stop()}}),null,this)}}},i=o,c=(t("a727"),t("2877")),l=Object(c["a"])(i,a,r,!1,null,"4d8c0710",null);s["default"]=l.exports},a727:function(e,s,t){"use strict";var a=t("d8f5"),r=t.n(a);r.a},d8f5:function(e,s,t){}}]);