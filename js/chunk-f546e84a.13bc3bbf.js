(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f546e84a"],{"2ddd":function(e,t,r){"use strict";var s=r("8c4d"),a=r.n(s);a.a},"3d39":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"agent-resiter",style:{backgroundImage:e.$bImgs["agent/bg"]}},[r("div",{staticClass:"logo"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/top_left"],expression:"$imgs['agent/top_left']"}],attrs:{alt:""}}),r("span",[e._v("尊博合作伙伴后台管理系统")])]),r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/daili_pic"],expression:"$imgs['agent/daili_pic']"}],staticClass:"agent-logo__enjoy"}),r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/agent_logo"],expression:"$imgs['agent/agent_logo']"}],staticClass:"agent-logo__BVB",attrs:{alt:""}}),r("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.rules}},[r("el-form-item",[r("p",{staticClass:"login-tit"},[e._v("使用尊博会员账号即可登录")])]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:e.$t("agent.form.usernamePlaceholder")},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[r("div",{staticClass:"user-icon",attrs:{slot:"append"},slot:"append"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/user"],expression:"$imgs['agent/user']"}],attrs:{alt:""}})])])],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","show-password":"",placeholder:e.$t("agent.form.passwordPlaceholder")},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[r("div",{staticClass:"user-icon",attrs:{slot:"append"},slot:"append"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/password"],expression:"$imgs['agent/password']"}],attrs:{alt:""}})])])],1),r("el-form-item",{attrs:{prop:"wechat"}},[r("el-input",{attrs:{placeholder:e.$t("agent.form.wechatPlaceholder")},model:{value:e.registerForm.wechat,callback:function(t){e.$set(e.registerForm,"wechat",t)},expression:"registerForm.wechat"}},[r("div",{staticClass:"user-icon",attrs:{slot:"append"},slot:"append"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/weixin"],expression:"$imgs['agent/weixin']"}],attrs:{alt:""}})])])],1),r("el-form-item",{attrs:{prop:"skype"}},[r("el-input",{attrs:{placeholder:e.$t("agent.form.skypePlaceholder")},model:{value:e.registerForm.skype,callback:function(t){e.$set(e.registerForm,"skype",t)},expression:"registerForm.skype"}},[r("div",{staticClass:"user-icon",attrs:{slot:"append"},slot:"append"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/skype"],expression:"$imgs['agent/skype']"}],attrs:{alt:""}})])])],1),r("el-form-item",{staticClass:"phone",attrs:{prop:"mobile"}},[r("span",{staticClass:"plus"},[e._v("+")]),r("div",{staticClass:"line"}),r("el-input",{staticClass:"input-with-select",attrs:{type:"number",placeholder:e.$t("agent.form.phonePlaceholder"),oninput:"if(value.length>11)value=value.slice(0,11)"},model:{value:e.registerForm.mobile,callback:function(t){e.$set(e.registerForm,"mobile",t)},expression:"registerForm.mobile"}},[r("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.registerForm.phone_area_code,callback:function(t){e.$set(e.registerForm,"phone_area_code",t)},expression:"registerForm.phone_area_code"}},e._l(e.phoneCodes,(function(t,s){return r("el-option",{key:s,attrs:{value:t.split("-")[2]}},[r("span",{staticStyle:{float:"left"}},[e._v(e._s(t.split("-")[1]))]),r("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.split("-")[2]))])])})),1),r("div",{staticClass:"user-icon",staticStyle:{"margin-top":"0px"},attrs:{slot:"append"},slot:"append"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/mobile"],expression:"$imgs['agent/mobile']"}],attrs:{alt:""}})])],1)],1),r("el-form-item",{staticStyle:{"text-align":"left","padding-left":"28px"}},[r("el-checkbox",{staticClass:"resiter-rule",model:{value:e.resiterrule,callback:function(t){e.resiterrule=t},expression:"resiterrule"}},[e._v("同意并接受《合作代理条款》")])],1),r("el-form-item",[r("el-button",{staticClass:"submit",attrs:{type:"primary",loading:e.submitRegisterLoading},on:{click:e.doRegister}},[e._v(" "+e._s(e.$t("agent.registerBtn"))+" ")])],1),r("p",{staticClass:"tologinbtn"},[e._v(" 已有账号？请"),r("span",{on:{click:function(t){return e.$router.push("/agent/login")}}},[e._v("登录")])])],1)],1)},a=[],i=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),r("159b"),r("96cf"),r("2fa7")),n=r("2f62"),o=r("365c"),l=r("bbbc");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={name:"AgentResiter",data:function(){var e=this;return{visible:!1,active:"account",resiterrule:!0,phoneCodes:[],phoneCode:86,form:{username:"",password:""},registerForm:{username:"",password:"",wechat:"",skype:"",phone_area_code:86,mobile:null,smsCode:null},submitLoginLoading:!1,submitRegisterLoading:!1,rules:{username:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$i18n.t("message.accountPlaceholder"))):s()}}],password:[{trigger:"blur",validator:function(t,r,s){console.log(t),""===r?s(new Error(e.$i18n.t("message.passwordPlaceholder"))):new RegExp(/^[A-Za-z0-9]{6,12}$/).test(r)?s():s(new Error(e.$i18n.t("message.formatPassword")))}}],wechat:[{trigger:"blur",validator:function(t,r,s){r?s():s(new Error(e.$i18n.t("agent.form.wechatPlaceholder")))}}],skype:[],mobile:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$i18n.t("message.telPlaceholder"))):new RegExp(/^[0-9]{5,16}$/).test(r)?s():s(new Error(e.$i18n.t("message.formatTel2")))}}]}}},computed:g({},Object(n["e"])("agent",["loginVisible"])),watch:{loginVisible:function(e){this.visible=e}},created:function(){this.phoneArea(),this.visible=this.loginVisible},methods:g({},Object(n["b"])("agent",["login","setLoginVisible","getUserInfo"]),{phoneArea:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(o["v"])());case 2:e=t.sent,this.phoneCodes=e;case 4:case"end":return t.stop()}}),null,this)},doLogin:function(){var e=this;this.$refs["form"].validate((function(t){var r,s,a;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:t&&(e.submitLoginLoading=!0,r=e.form,s=r.username,a=r.password,e.login({username:s,password:a}).then((function(){e.getUserInfo(),e.submitLoginLoading=!1,e.$router.push({name:"AgentDashboard",query:{login:void 0}}),e.setLoginVisible(!1)})).catch((function(){e.submitLoginLoading=!1})));case 1:case"end":return i.stop()}}))}))},doRegister:function(){var e=this;this.$refs["registerForm"].validate((function(t){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=21;break}return r.prev=1,e.submitRegisterLoading=!0,Object.assign(e.registerForm,{repassword:e.registerForm.password,domain:window.location.host}),r.next=6,regeneratorRuntime.awrap(Object(l["p"])(e.registerForm));case 6:return e.$message.success(e.$t("message.signupSuccess")),e.submitRegisterLoading=!1,r.next=10,regeneratorRuntime.awrap(e.login({username:e.registerForm.username,password:e.registerForm.password}));case 10:return r.next=12,regeneratorRuntime.awrap(e.getUserInfo());case 12:e.setLoginVisible(!1),e.$router.push({name:"AgentDashboard"}),r.next=18;break;case 16:r.prev=16,r.t0=r["catch"](1);case 18:return r.prev=18,e.submitRegisterLoading=!1,r.finish(18);case 21:case"end":return r.stop()}}),null,null,[[1,16,18,21]])}))},handleCountdownEnd:function(e){this.counting=!1},handleClose:function(e){this.setLoginVisible(!1),e&&"function"===typeof e&&e()}})},m=p,u=(r("2ddd"),r("2877")),d=Object(u["a"])(m,s,a,!1,null,"c24e1e0c",null);t["default"]=d.exports},"8c4d":function(e,t,r){}}]);