(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00dd501c"],{"2fe7":function(e,s,t){"use strict";var r=t("978e"),a=t.n(r);a.a},4066:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login",attrs:{id:"login-ag"}},[t("h2",{staticClass:"channel-title"},[t("span",[e._v(e._s(e.$t("找回密码")))])]),t("layout",[t("div",{staticClass:"content"},[t("div",{staticClass:"right"},[t("div",{staticClass:"logo"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["img/logo/24"],expression:"$imgs['img/logo/24']"}],attrs:{alt:""}})]),t("div",{staticClass:"forget-from"},[t("layout",{staticClass:"steps",attrs:{"justify-center":""}},[t("div",{class:["item",e.step>1?"finished active":""]},[t("div",[e._v("1")]),t("span",[e._v(" "+e._s(e.$t("输入您的账号"))+" ")])]),t("div",{class:["line first",e.step>2||3==e.step?"finished active":""]}),t("div",{class:["item",2==e.step?"active":"",e.step>2?"finished active":""]},[t("div",[e._v("2")]),t("span",[e._v(e._s(e.$t("message.validIdentity")))])]),t("div",{class:["line second",3==e.step?"active":""]}),t("div",{class:["item",3==e.step?"active":""]},[t("div",[e._v("3")]),t("span",[e._v(e._s(e.$t("message.resetPasswd")))])])]),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[1==e.step?t("el-form-item",[t("el-input",{staticClass:"account",attrs:{placeholder:e.$t("请输入您的用户名")},model:{value:e.form.username,callback:function(s){e.$set(e.form,"username",s)},expression:"form.username"}})],1):e._e(),2==e.step?t("el-form-item",{staticClass:"form-step2"},[t("el-select",{attrs:{placeholder:e.$t("请选择")},on:{change:e.passQuestion},model:{value:e.type,callback:function(s){e.type=s},expression:"type"}},e._l(e.options,(function(s){return t("el-option",{directives:[{name:"show",rawName:"v-show",value:e.info.email&&2==s.value||e.info.mobile&&1==s.value||2==e.info.is_pass_answer&&3==s.value,expression:"\n                      (info.email && item.value == 2) ||\n                        (info.mobile && item.value == 1) ||\n                        (info.is_pass_answer == 2 && item.value == 3)\n                    "}],key:s.value,staticClass:"input__title",attrs:{label:s.label,value:s.value}})})),1),2==e.step&&3!=e.type?t("div",{staticClass:"show-phone"},[e._v(" "+e._s(e.$t("已绑定"))+e._s(1==e.type?"手机":"邮箱")+": "),t("span",{directives:[{name:"show",rawName:"v-show",value:1==e.type,expression:"type == 1"}]},[e._v(e._s(e.info.mobile))]),t("span",{directives:[{name:"show",rawName:"v-show",value:2==e.type,expression:"type == 2"}]},[e._v(e._s(e.info.email))])]):e._e()],1):e._e(),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.step&&3!=e.type,expression:"step == 2 && type != 3"}],staticClass:"phone form-step2",attrs:{prop:"code"}},[t("div",{staticClass:"msg-code"},[t("el-input",{attrs:{placeholder:e.$t("message.verifyCodePlaceholder")},model:{value:e.form.code,callback:function(s){e.$set(e.form,"code",s)},expression:"form.code"}}),e.counting?t("countdown",{attrs:{time:6e4,interval:1e3,tag:"span"},on:{end:e.handleCountdownEnd},scopedSlots:e._u([{key:"default",fn:function(s){return t("el-button",{staticClass:"getCode-count",staticStyle:{padding:"0","margin-top":"0"}},[e._v(" "+e._s(e.$t("message.sendVerificationCode"))+"("+e._s(s.seconds)+") ")])}}],null,!1,2790911296)}):t("div",{staticClass:"getCode",on:{click:e.smsCode}},[e._v(" "+e._s(e.$t("message.sendVerificationCode"))+" ")])],1)]),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.step&&3==e.type,expression:"step == 2 && type == 3"}]},[t("el-select",{staticClass:"selrrr",attrs:{placeholder:e.$t("请选择"),disabled:!0},model:{value:e.form.pass_question_id,callback:function(s){e.$set(e.form,"pass_question_id",s)},expression:"form.pass_question_id"}},e._l(e.questions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.step&&3==e.type,expression:"step == 2 && type == 3"}],attrs:{prop:"pass_answer"}},[2==e.step&&3==e.type?t("el-input",{staticClass:"ansKlass",attrs:{placeholder:e.$t("message.pleaseInputAnswer")},model:{value:e.form.pass_answer,callback:function(s){e.$set(e.form,"pass_answer",s)},expression:"form.pass_answer"}}):t("el-input",{attrs:{placeholder:e.$t("message.verifyCodePlaceholder")},model:{value:e.form.pass_answer,callback:function(s){e.$set(e.form,"pass_answer",s)},expression:"form.pass_answer"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.step,expression:"step == 3"}],attrs:{prop:"password"}},[t("el-input",{attrs:{"show-password":"",placeholder:e.$t("输入新密码")},model:{value:e.form.password,callback:function(s){e.$set(e.form,"password",s)},expression:"form.password"}})],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.step,expression:"step == 3"}],attrs:{prop:"rePassword"}},[t("el-input",{attrs:{"show-password":"",placeholder:e.$t("确认新密码")},model:{value:e.form.rePassword,callback:function(s){e.$set(e.form,"rePassword",s)},expression:"form.rePassword"}})],1)],1),t("layout",{attrs:{"justify-center":""}},[t("el-button",{staticClass:"cancle-btn",attrs:{type:"gray"},on:{click:function(s){return e.$router.push({path:"/"})}}},[e._v(e._s(e.$t("取消")))]),t("el-button",{attrs:{disabled:e.flag},on:{click:e.next}},[e._v(" "+e._s(e.$t("message.nextStep"))+" ")])],1),t("layout",{staticClass:"other",attrs:{"justify-center":""}},[t("layout",{staticClass:"pointer",attrs:{"grow-shrink-0":"","align-center":""},on:{click:function(s){return e.$router.push({name:"home"})}}},[t("svg-icon",{attrs:{link:"come"}}),e._v(" "+e._s(e.$t("message.goAround"))+" ")],1),t("div",{staticClass:"line"}),t("layout",{staticClass:"pointer",attrs:{"grow-shrink-0":"","align-center":""},on:{click:function(s){return e.$openKefu()}}},[t("svg-icon",{attrs:{link:"customer"}}),e._v(" "+e._s(e.$t("message.yourCustomerService"))+" ")],1)],1)],1)])])])],1)},a=[],n=(t("a4d3"),t("4de4"),t("4160"),t("e439"),t("dbb4"),t("b64b"),t("d3b7"),t("ac1f"),t("5319"),t("159b"),t("2fa7")),o=(t("96cf"),t("365c"));function i(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?i(t,!0).forEach((function(s){Object(n["a"])(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(t).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var l={props:["value"],data:function(){var e=this,s=function(s,t,r){if(2==e.step&&3!=e.type&&!t)return r(new Error(e.$t("message.verifyCodePlaceholder")));r()},t=function(s,t,r){if(2==e.step&&3==e.type&&!t)return r(new Error(e.$t("message.pleaseInputAnswer")));r()},r=function(s,t,r){if(3==e.step&&!t)return r(new Error(e.$t("message.passwordPlaceholder")));r()},a=function(s,t,r){if(3==e.step&&(!t||e.form.password!=e.form.rePassword))return r(new Error(e.$t("message.confirmPasswordPlaceholder")));r()};return{step:1,type:1,options:[{value:1,label:this.$t("message.phone")},{value:2,label:this.$t("message.mailbox")},{value:3,label:this.$t("message.passQuestion")}],form:{username:null,code:null,password:null,rePassword:null,pass_question_id:null,pass_answer:null},rules:{code:[{validator:s,trigger:"blur"}],pass_answer:[{validator:t,trigger:"blur"}],password:[{validator:r,trigger:"blur"}],rePassword:[{validator:a,trigger:"blur"}]},counting:!1,info:{},questions:[],aoMenUi:["takchun","10012","10013","mgm8","10006","10011","10007","10009","10010","10015","10019","10021","10008","10034","10057"]}},computed:{flag:function(){return!this.form.username}},methods:{checkAccount:function(){var e;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(Object(o["m"])({username:this.form.username}));case 2:if(e=s.sent,0!==e.length){s.next=6;break}return this.$message.error(this.$t("message.hasNoUser")),s.abrupt("return");case 6:e.email||e.mobile||1!=e.is_pass_answer?(this.info=e,this.info.phone_area_code="+".concat(this.info.phone_area_code),this.step+=1,this.form.pass_question_id=e.pass_question_id):this.$message.error(this.$t("message.hasNoValid"));case 7:case"end":return s.stop()}}),null,this)},next:function(){var e,s=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return e={uid:this.info.id,code:this.form.code,phone_area_code:this.info.phone_area_code,pass_question_id:this.form.pass_question_id,pass_answer:this.form.pass_answer},t.next=3,regeneratorRuntime.awrap(this.$refs.form.validate());case 3:if(1!=this.step){t.next=7;break}this.checkAccount(),t.next=27;break;case 7:if(2!=this.step){t.next=23;break}if(1!=this.type){t.next=13;break}return t.next=11,regeneratorRuntime.awrap(Object(o["l"])(e));case 11:t.next=20;break;case 13:if(2!=this.type){t.next=18;break}return t.next=16,regeneratorRuntime.awrap(Object(o["i"])(e));case 16:t.next=20;break;case 18:return t.next=20,regeneratorRuntime.awrap(Object(o["u"])(e));case 20:this.step+=1,t.next=27;break;case 23:return t.next=25,regeneratorRuntime.awrap(Object(o["j"])({pass_question_id:this.form.pass_question_id,pass_answer:this.form.pass_answer,code:this.form.code,uid:this.info.id,password:this.form.password,repassword:this.form.rePassword,type:this.type,phone_area_code:this.info.phone_area_code}));case 25:this.$message.success(this.$t("message.modifySuccess")),setTimeout((function(){s.$router.push({name:"home"})}),1e3);case 27:case"end":return t.stop()}}),null,this)},handleCountdownEnd:function(){this.counting=!1},login:function(){this.$router.push({name:"login"})},smsCode:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(this.counting=!0,1!=this.type){e.next=6;break}return e.next=4,regeneratorRuntime.awrap(Object(o["k"])({uid:this.info.id,phone_area_code:this.info.phone_area_code}));case 4:e.next=9;break;case 6:if(2!=this.type){e.next=9;break}return e.next=9,regeneratorRuntime.awrap(Object(o["h"])({uid:this.info.id}));case 9:case"end":return e.stop()}}),null,this)},passQuestion:function(e){var s;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(3==e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,regeneratorRuntime.awrap(Object(o["t"])());case 4:s=t.sent,this.questions=s;case 6:case"end":return t.stop()}}),null,this)},hideLogin:function(){this.$router.replace(c({},this.$router.currentRoute,{query:{login:void 0}}))}}},u=l,p=(t("2fe7"),t("2877")),d=Object(p["a"])(u,r,a,!1,null,null,null);s["default"]=d.exports},"978e":function(e,s,t){e.exports={agent_nav_title:"#000000",agent_chart_color:"#C56F48"}}}]);