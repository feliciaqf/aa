(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9c8feec"],{"4d58":function(e,r,t){},"91bd":function(e,r,t){"use strict";var s=t("4d58"),n=t.n(s);n.a},bec8:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"agent-sign-box"},[t("el-form",{ref:"form",staticClass:"sign-form",attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{clearable:"","prefix-icon":"img-icon-user-2",placeholder:e.$t("agent.form.usernamePlaceholder")},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"img-icon-password-1",prop:"password",clearable:"",type:e.showPass?"text":"password",placeholder:e.$t("agent.form.passwordPlaceholder")},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}},[t("template",{slot:"suffix"},[t("i",{staticClass:"icon",class:e.showPass?"icon-eye":"icon-eye-closed2",on:{click:function(r){e.showPass=!e.showPass}}})])],2)],1),t("div",{staticClass:"button-box"},[t("el-button",{staticClass:"submit",attrs:{type:"primary",loading:e.submitLoginLoading},on:{click:e.doLogin}},[e._v(" "+e._s(e.$t("agent.loginBtn"))+" ")]),t("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:function(r){return e.$router.push("/agent/register")}}},[e._v(" "+e._s(e.$t("免费注册"))+" ")])],1)],1)],1)},n=[],o=(t("a4d3"),t("4de4"),t("4160"),t("e439"),t("dbb4"),t("b64b"),t("d3b7"),t("4d63"),t("ac1f"),t("25f0"),t("159b"),t("96cf"),t("2fa7")),a=t("2f62"),i=t("365c"),c=t("bbbc");function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(t,!0).forEach((function(r){Object(o["a"])(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(t).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var g={name:"AgentLogin",data:function(){var e=this;return{visible:!1,active:"account",phoneCodes:[],phoneCode:86,showPass:!1,form:{username:"",password:""},registerForm:{username:"",password:"",wechat:"",skype:"",phone_area_code:86,mobile:null,smsCode:null},submitLoginLoading:!1,submitRegisterLoading:!1,rules:{username:[{trigger:"blur",validator:function(r,t,s){""===t?s(new Error(e.$t("message.accountPlaceholder"))):s()}}],password:[{trigger:"blur",validator:function(r,t,s){""===t?s(new Error(e.$t("message.passwordPlaceholder"))):new RegExp(/^[A-Za-z0-9]{6,12}$/).test(t)?s():s(new Error(e.$t("message.formatPassword")))}}],wechat:[{trigger:"blur",validator:function(r,t,s){t?s():s(new Error(e.$t("agent.form.wechatPlaceholder")))}}],skype:[],mobile:[{trigger:"blur",validator:function(r,t,s){""===t?s(new Error(e.$t("message.telPlaceholder"))):new RegExp(/^[0-9]{5,16}$/).test(t)?s():s(new Error(e.$t("message.formatTel2")))}}]}}},computed:l({},Object(a["e"])("agent",["loginVisible"])),watch:{loginVisible:function(e){this.visible=e}},created:function(){this.phoneArea(),this.visible=this.loginVisible},methods:l({},Object(a["b"])("agent",["login","setLoginVisible","getUserInfo"]),{phoneArea:function(){var e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(i["u"])());case 2:e=r.sent,this.phoneCodes=e;case 4:case"end":return r.stop()}}),null,this)},doLogin:function(){var e=this;this.$refs["form"].validate((function(r){var t,s,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:r&&(e.submitLoginLoading=!0,t=e.form,s=t.username,n=t.password,e.login({username:s,password:n}).then((function(){e.getUserInfo(),e.submitLoginLoading=!1,e.$router.push({name:"AgentDashboard"}),e.setLoginVisible(!1)})).catch((function(){e.submitLoginLoading=!1})));case 1:case"end":return o.stop()}}))}))},doRegister:function(){var e=this;this.$refs["registerForm"].validate((function(r){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=21;break}return t.prev=1,e.submitRegisterLoading=!0,Object.assign(e.registerForm,{repassword:e.registerForm.password,domain:window.location.host}),t.next=6,regeneratorRuntime.awrap(Object(c["o"])(e.registerForm));case 6:return e.$message.success(e.$t("message.signupSuccess")),e.submitRegisterLoading=!1,t.next=10,regeneratorRuntime.awrap(e.login({username:e.registerForm.username,password:e.registerForm.password}));case 10:return t.next=12,regeneratorRuntime.awrap(e.getUserInfo());case 12:e.setLoginVisible(!1),e.$router.push({name:"AgentDashboard"}),t.next=18;break;case 16:t.prev=16,t.t0=t["catch"](1);case 18:return t.prev=18,e.submitRegisterLoading=!1,t.finish(18);case 21:case"end":return t.stop()}}),null,null,[[1,16,18,21]])}))},handleCountdownEnd:function(e){this.counting=!1},handleClose:function(e){this.setLoginVisible(!1),e&&"function"===typeof e&&e()}})},p=g,d=(t("91bd"),t("2877")),m=Object(d["a"])(p,s,n,!1,null,"5bd18e45",null);r["default"]=m.exports}}]);