(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ad3b3e1"],{"0cf04":function(e,t,r){},"13f0":function(e,t,r){"use strict";var s=r("0cf04"),n=r.n(s);n.a},d4f5:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"agent-login",style:{backgroundImage:e.$bImgs["agent/bg"]}},[r("div",{staticClass:"logo"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/top_left"],expression:"$imgs['agent/top_left']"}],attrs:{alt:""}}),r("span",[e._v("尊博合作伙伴后台管理系统")])]),r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/daili_pic"],expression:"$imgs['agent/daili_pic']"}],staticClass:"agent-logo__enjoy"}),r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/agent_logo"],expression:"$imgs['agent/agent_logo']"}],staticClass:"agent-logo__BVB",attrs:{alt:""}}),r("el-form",{ref:"form",staticClass:"login-form",attrs:{model:e.form,rules:e.rules}},[r("el-form-item",[r("p",{staticClass:"login-tit"},[e._v(" 使用尊博会员账号即可登录 ")])]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{placeholder:e.$t("agent.form.usernamePlaceholder")},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[r("div",{staticClass:"user-icon",attrs:{slot:"append"},slot:"append"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/user"],expression:"$imgs['agent/user']"}],attrs:{alt:""}})])])],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{prop:"password",type:"password",placeholder:e.$t("agent.form.passwordPlaceholder")},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[r("div",{staticClass:"user-icon",attrs:{slot:"append"},slot:"append"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$imgs["agent/password"],expression:"$imgs['agent/password']"}],attrs:{alt:""}})])])],1),r("el-form-item",[r("el-button",{staticClass:"submit",attrs:{type:"primary",loading:e.submitLoginLoading},on:{click:e.doLogin}},[e._v(" "+e._s(e.$t("agent.loginBtn"))+" ")]),r("p",{staticClass:"toresiter"},[r("span",{on:{click:function(t){return e.$router.push("/forgetPassword")}}}),r("span",{on:{click:function(t){return e.$router.push("/agent/resiter")}}},[e._v("注册帐号")])])],1)],1)],1)},n=[],a=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),r("159b"),r("96cf"),r("2fa7")),o=r("2f62"),i=r("365c"),c=r("bbbc");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={name:"AgentLogin",data:function(){var e=this;return{visible:!1,active:"account",phoneCodes:[],phoneCode:86,form:{username:"",password:""},registerForm:{username:"",password:"",wechat:"",skype:"",phone_area_code:86,mobile:null,smsCode:null},submitLoginLoading:!1,submitRegisterLoading:!1,rules:{username:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$i18n.t("message.accountPlaceholder"))):s()}}],password:[{trigger:"blur",validator:function(t,r,s){console.log(t),""===r?s(new Error(e.$i18n.t("message.passwordPlaceholder"))):new RegExp(/^[A-Za-z0-9]{6,12}$/).test(r)?s():s(new Error(e.$i18n.t("message.formatPassword")))}}],wechat:[{trigger:"blur",validator:function(t,r,s){r?s():s(new Error(e.$i18n.t("agent.form.wechatPlaceholder")))}}],skype:[],mobile:[{trigger:"blur",validator:function(t,r,s){""===r?s(new Error(e.$i18n.t("message.telPlaceholder"))):new RegExp(/^[0-9]{5,16}$/).test(r)?s():s(new Error(e.$i18n.t("message.formatTel2")))}}]}}},computed:g({},Object(o["e"])("agent",["loginVisible"])),watch:{loginVisible:function(e){this.visible=e}},created:function(){this.phoneArea(),this.visible=this.loginVisible},methods:g({},Object(o["b"])("agent",["login","setLoginVisible","getUserInfo"]),{phoneArea:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Object(i["v"])());case 2:e=t.sent,this.phoneCodes=e;case 4:case"end":return t.stop()}}),null,this)},doLogin:function(){var e=this;this.$refs["form"].validate((function(t){var r,s,n;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:t&&(e.submitLoginLoading=!0,r=e.form,s=r.username,n=r.password,e.login({username:s,password:n}).then((function(){e.getUserInfo(),e.submitLoginLoading=!1,e.$router.push({name:"AgentDashboard"}),e.setLoginVisible(!1)})).catch((function(){e.submitLoginLoading=!1})));case 1:case"end":return a.stop()}}))}))},doRegister:function(){var e=this;this.$refs["registerForm"].validate((function(t){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=21;break}return r.prev=1,e.submitRegisterLoading=!0,Object.assign(e.registerForm,{repassword:e.registerForm.password,domain:window.location.host}),r.next=6,regeneratorRuntime.awrap(Object(c["p"])(e.registerForm));case 6:return e.$message.success(e.$t("message.signupSuccess")),e.submitRegisterLoading=!1,r.next=10,regeneratorRuntime.awrap(e.login({username:e.registerForm.username,password:e.registerForm.password}));case 10:return r.next=12,regeneratorRuntime.awrap(e.getUserInfo());case 12:e.setLoginVisible(!1),e.$router.push({name:"AgentDashboard"}),r.next=18;break;case 16:r.prev=16,r.t0=r["catch"](1);case 18:return r.prev=18,e.submitRegisterLoading=!1,r.finish(18);case 21:case"end":return r.stop()}}),null,null,[[1,16,18,21]])}))},handleCountdownEnd:function(e){this.counting=!1},handleClose:function(e){this.setLoginVisible(!1),e&&"function"===typeof e&&e()}})},m=u,p=(r("13f0"),r("2877")),d=Object(p["a"])(m,s,n,!1,null,"7fcb774e",null);t["default"]=d.exports}}]);