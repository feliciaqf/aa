(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0929f004"],{"276c":function(t,e,a){},"38f8":function(t,e,a){"use strict";var n=a("78ff"),i=a.n(n);i.a},"3c18":function(t,e,a){"use strict";var n=a("a5b3"),i=a.n(n);i.a},"3ca3":function(t,e,a){"use strict";var n=a("6547").charAt,i=a("69f3"),s=a("7dd0"),o="String Iterator",c=i.set,r=i.getterFor(o);s(String,"String",(function(t){c(this,{type:o,string:String(t),index:0})}),(function(){var t,e=r(this),a=e.string,i=e.index;return i>=a.length?{value:void 0,done:!0}:(t=n(a,i),e.index+=t.length,{value:t,done:!1})}))},"4a4b":function(t,e,a){},"540a":function(t,e,a){},"5c0c":function(t,e,a){},"6d830":function(t,e,a){var n={"./ABC.png":"85d0","./BCCB.png":"17d6","./BOC.png":"fb3f","./BOCOM.png":"89e2","./BOS.png":"0d98","./CCB.png":"02ae","./CEB.png":"1167","./CGB.png":"31a0","./CIB.png":"7f52","./CMB.png":"6fe6","./CMBC.png":"ad20","./Default.png":"b9e4","./ECITIC.png":"49df","./HXB.png":"35ee","./HZCBC.png":"edc5","./ICBC.png":"ebab","./NBCBC.png":"0e2a","./PAB.png":"f9e0","./PSBC.png":"5280","./SPDB.png":"269c","./bg-bank-card.png":"118e"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="6d830"},"6e4b":function(t,e,a){var n={"./bank-account@2x.png":"5d16","./chip1@2x.png":"ef3d","./chip2@2x.png":"12e7","./chip3@2x.png":"3c74","./chip4@2x.png":"a30e","./chip5@2x.png":"2171"};function i(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=s,t.exports=i,i.id="6e4b"},"78ff":function(t,e,a){},7987:function(t,e,a){"use strict";var n=a("540a"),i=a.n(n);i.a},"7cda":function(t,e,a){"use strict";var n=a("fb97"),i=a.n(n);i.a},8181:function(t,e,a){"use strict";var n=a("276c"),i=a.n(n);i.a},9569:function(t,e,a){"use strict";var n=a("5c0c"),i=a.n(n);i.a},"9e0c":function(t,e,a){"use strict";var n=a("a854"),i=a.n(n);i.a},a000:function(t,e,a){"use strict";var n=a("4a4b"),i=a.n(n);i.a},a5b3:function(t,e,a){},a854:function(t,e,a){},d9e8:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deposit"},[a("div",{staticClass:"main-top"},[a("h2",[t._v(t._s(t.$t(t.$route.meta.title)))]),a("div",{staticClass:"addon",on:{click:t.$openKefu}},[a("p",[t._v(t._s(t.$t("非人民币存款请联系在线客服")))]),a("svg-icon",{staticClass:"pointer",attrs:{link:"service"}})],1)]),a("div",{staticClass:"main-body"},[a("div",{staticClass:"payments"},[t.payTypeData.length?a("PaymentType",{attrs:{data:t.payTypeData},on:{change:t.onPaymentSelected}}):t._e(),"chashao"===t.$projectName||"chobet"===t.$projectName||t.aoMenUi.includes(t.$projectName)||"10046"===t.$projectName?t._e():a("div",{staticClass:"tips",on:{click:t.showDepositTips}},[a("svg-icon",{attrs:{link:"info"}}),t._v(t._s(t.$t("存款操作说明"))+" ")],1)],1),a("div",{staticClass:"deposit-form"},[t.bankAccount?a("div",{staticClass:"card"},[a("h2",[t._v(t._s(t.$t("公司收款账户")))]),a("BankAccount",{attrs:{data:t.bankAccount,payment:t.payment}}),a("p",[t._v(" "+t._s(t.$t("温馨提示：每次存款前请先查询公司最新的收款账户，收款账户我们将会随时变更，如果您存款到我们已经取消的收款账户，那么我们将无法为您添加存款额度。"))+" ")])],1):t._e(),a("div",{staticClass:"information"},[a("h2",[t._v(t._s(t.$t("message.depositAmount")))]),a("ul",{staticClass:"form-ul"},[t.thirdPayMsg.money?a("li",[a("div",{staticClass:"yt-label"},[a("p",[t._v(t._s(t.$t("油条充值金额"))+"："+t._s(t.thirdPayMsg.product_name))])])]):t._e(),a("li",[a("el-input",{staticClass:"amount tall",attrs:{disabled:!t.paymentInfo.is_suit_money||"1"===t.thirdPayMsg.busi_pay_type,placeholder:t.$t("message.rechargeAmountDesc",[t.paymentInfo.min_money,t.paymentInfo.max_money])},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}},[a("span",{attrs:{slot:"prefix"},slot:"prefix"},[t._v("¥")])])],1),t.paymentInfo.is_quick_money?a("li",[a("label",[t._v(t._s(t.$t("快捷金额：")))]),a("div",{staticClass:"chips"},t._l(t.moneys,(function(e,n){return a("Chip",{key:n,class:{selected:t.money===e},attrs:{amount:e},on:{select:t.selectAmount}})})),1)]):t._e(),!t.payment||6!==t.payment.id&&2!==t.payment.id?t._e():a("li",[a("el-input",{attrs:{placeholder:6===t.payment.id?t.$t("message.alipayNamePlaceholder"):t.$t("message.bankNamePlaceholder")},model:{value:t.realName,callback:function(e){t.realName=e},expression:"realName"}})],1),t.paymentInfo.is_need_bank_code&&t.banks.length?a("li",[a("el-select",{attrs:{placeholder:t.$t("message.chooseBank")},model:{value:t.bankId,callback:function(e){t.bankId=e},expression:"bankId"}},t._l(t.banks,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id,disabled:e.disabled}},[a("BankItem",{class:{selected:t.bankId===e.id},attrs:{bank:e}})],1)})),1)],1):t._e(),t.activities.length&&t.money?a("li",[a("el-select",{attrs:{placeholder:t.$t("message.preferentialApplicationPlaceHolder")},on:{change:t.onActivityChange},model:{value:t.activityId,callback:function(e){t.activityId=e},expression:"activityId"}},t._l(t.activities,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.id,disabled:e.disabled}},[t._v(" "+t._s(e.name)+" "+t._s("/ "+(t.allGameCate&&t.allGameCate[e.game_type]||""))+" ")])})),1)],1):t._e(),t.money?a("li",[a("div",{staticClass:"form-tips"},[a("i",{staticClass:"el-icon-s-opportunity"}),t.$route.params.table?a("span",[t._v(" "+t._s(t.$t("message.flowRequirements",[t.$route.params.table.flow,(Number(t.$route.params.table.recharge_money)+Number(t.$route.params.table.gift_money))*t.$route.params.table.flow]))+" ")]):a("span",[t._v(" "+t._s(t.activity&&t.activity.id?t.$t("message.flowRequirements",[t.activity.flow,t.activity.flow*t.money*1.3]):t.$t("message.unselectedActivitiy"))+" ")])])]):t._e(),a("li",[a("el-button",{staticClass:"submit",attrs:{type:"primary",loading:t.submiting},on:{click:t.onSubmit}},[t._v(" "+t._s(t.$t("message.confirmSubmit"))+" ")])],1)])])])]),t.order?a("PaymentDialog",{staticClass:"payDialog",attrs:{visible:t.dialogVisible,payment:t.payment,order:t.order,"init-status":2===t.payType||6===t.payType?2:0},on:{cancel:t.onCancel}}):t._e(),a("DepositTeach",{ref:"depositTeach",attrs:{payments:t.payments}})],1)},i=[],s=(a("99af"),a("7db0"),a("4160"),a("caad"),a("a9e3"),a("d3b7"),a("acd8"),a("3ca3"),a("159b"),a("ddb0"),a("93dd")),o=a("89cb"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.data&&t.data.length?a("div",{staticClass:"payments-channel",class:1===t.payMode?"list-all":"group-by"},[2===t.payMode&&t.channels.length?a("layout",{staticClass:"payment-channels"},t._l(t.channels,(function(e,n){return a("PaymentItem",{key:n,class:{active:t.channel&&t.channel.id===e.id},attrs:{data:e,type:"channel"},on:{change:function(a){return t.onPaymentTypeSelected(e)}}})})),1):t._e(),t.payments&&t.payments.length?a("layout",{staticClass:"payment-items",attrs:{wrap:""}},t._l(t.payments,(function(e,n){return a("PaymentItem",{key:n,class:{active:t.payment&&t.payment.pay_method_id===e.pay_method_id},attrs:{data:e,type:"payment","pay-mode":t.payMode},on:{change:function(a){return t.onPaymentSelected(e)}}})})),1):t._e()],1):t._e()},r=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payment-item",class:t.className,on:{click:t.onSelected}},[a("el-image",{attrs:{src:t.icons[t.data.id]||t.icons["2"],fit:"contain",lazy:""}}),a("span",[t._v(t._s(t.data.alias||t.data.name))])],1)},p=[],u={1:a("2b21"),2:a("2b21"),3:a("def6"),4:a("cfbc"),5:a("08e1"),6:a("08e1"),7:a("6b95"),10:a("ae931"),11:a("d5b7"),12:a("def6"),13:a("08e1"),14:a("08e1"),15:a("251b"),16:a("4216")},m={1:a("08e1"),2:a("def6"),3:a("ae931"),4:a("3a93"),5:a("cfbc"),7:a("2b21"),8:a("73cd")},d={name:"PaymentItem",props:{data:{type:Object,default:function(){return{}}},type:{type:String,default:function(){return"payment"}},payMode:{type:Number,default:function(){return 1}}},data:function(){return{icons:"channel"===this.type?m:u}},computed:{className:function(){var t=this.type,e=this.payMode;return"payment"===t&&2===e?"".concat(t," child-item"):"".concat(t)}},created:function(){},methods:{onSelected:function(){this.$emit("change",this.data)}}},y=d,h=(a("f2e6"),a("2877")),_=Object(h["a"])(y,l,p,!1,null,"48e10b37",null),v=_.exports,f={name:"PaymentType",components:{PaymentItem:v},props:{data:{type:Array,default:function(){return[]}}},data:function(){return{payMode:1,payments:[],payment:null,channels:[],channel:null}},created:function(){this.getPaytypes()},methods:{getPaytypes:function(){var t=this.data;this.payMode=t&&t[0].child?2:1,2===this.payMode?(this.channels=t,this.onPaymentTypeSelected(t[0])):(this.payments=t,this.onPaymentSelected(t[0]))},onPaymentTypeSelected:function(t){this.channel=t,this.payments=t.child,this.onPaymentSelected(t.child[0])},onPaymentSelected:function(t){this.payment=t,this.$emit("change",t,this.channel)}}},g=f,b=(a("38f8"),Object(h["a"])(g,c,r,!1,null,"ea004a5c",null)),$=b.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bank-account"},[["10057"].includes(t.$projectName)?n("el-image",{attrs:{src:t.$imgs["dashboard/image_yinhangka@2x"]}}):n("el-image",{attrs:{src:a("5d16")}}),n("ul",[n("li",[n("label",[t._v(t._s(t.$t("银行卡号")))]),n("span",{staticClass:"copy1 no-select"},[t._v(t._s(t.data.bank_card_no))]),n("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.data.bank_card_no,expression:"data.bank_card_no",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.$t("复制")))])]),n("li",[n("label",[t._v(t._s(t.$t("账户姓名")))]),n("span",{staticClass:"copy1 no-select"},[t._v(t._s(t.data.bank_account_name))]),n("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.data.bank_account_name,expression:"data.bank_account_name",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.$t("复制")))])]),n("li",[n("label",[t._v(t._s(t.$t("开户银行")))]),n("span",[t._v(t._s(t.data.bank_name))])]),n("li",[n("label",[t._v(t._s(t.$t("开户支行")))]),n("span",{staticClass:"copy1 no-select"},[t._v(t._s(t.data.bank_branch_name))]),n("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.data.bank_branch_name,expression:"data.bank_branch_name",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.$t("复制")))])]),t.payment&&2===t.payment.id?n("li",[n("label",[t._v(t._s(t.$t("存款备注")))]),n("span",{staticClass:"copy1 no-select"},[t._v(t._s(t.data.rand_num))]),n("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.data.rand_num,expression:"data.rand_num",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}]},[t._v(t._s(t.$t("复制")))])]):t._e()])],1)},k=[],x={name:"BankAccount",props:["data","payment"],methods:{onCopy:function(t){this.$notify({title:this.$t("成功"),message:this.$t("内容复制成功"),type:"success"})},onError:function(t){this.$notify({title:this.$t("成功"),message:this.$t("内容复制失败"),type:"error"})}}},w=x,P=(a("a000"),Object(h["a"])(w,C,k,!1,null,"e794fb3e",null)),T=P.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chip",class:[t.getChipClassName()],on:{click:t.onSelected}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.chipImg(),expression:"chipImg()"}]}),a("span",[t._v(t._s(t.amount))])])},I=[],S={name:"Chip",props:["amount"],data:function(){return{}},methods:{onSelected:function(){this.$emit("select",this.amount)},getChipClassName:function(){var t=this.amount;return t<=500?"chip1":t>500&&t<=2e3?"chip2":t>2e3&&t<=4e3?"chip3":t>4e3&&t<=6e3?"chip4":"chip5"},chipImg:function(){var t=this.getChipClassName();return a("6e4b")("./".concat(t,"@2x.png"))}}},O=S,M=(a("9e0c"),Object(h["a"])(O,N,I,!1,null,"597ad90e",null)),A=M.exports,B=a("9d0e"),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pay-dialog"},[a("el-dialog",{attrs:{title:"",visible:t.dialogVisible,width:"500px","modal-append-to-body":!1,"show-close":!0,center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.order.is_tips&&t.showTip?[a("h2",[t._v(t._s(t.$t("支付提醒")))]),a("p",[t._v(t._s(t.$t("请问您当前存款遇到问题吗？客服小姐姐协助您解决哟！")))]),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onPay}},[t._v(" "+t._s(t.$t("继续支付"))+" ")]),a("el-button",{on:{click:t.onContact}},[t._v(" "+t._s(t.$t("联系客服"))+" ")])],1)]:[0===t.status?[a("div",{staticClass:"icon"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.icons[t.payType],expression:"icons[payType]"}]})]),a("h2",[t._v(t._s(t.payment.name))]),4===t.payType?a("p",[t._v(" "+t._s(t.$t("message.payTipsQQ"))+" ")]):a("p",[t._v(" "+t._s(t.$t("message.payingTips"))+" ")]),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onPay}},[t._v(" "+t._s(t.$t("message.toPay"))+" ")]),a("el-button",{on:{click:t.onCancel}},[t._v(" "+t._s(t.$t("message.close"))+" ")])],1)]:t._e(),1===t.status?[a("div",{staticClass:"icon"},[a("svg-icon",{attrs:{link:"processing"}})],1),2==t.payType||6==t.payType||12==t.payType||13==t.payType||14==t.payType?a("div",[a("h2",[t._v(t._s(t.$t("您的交易正在处理中")))]),a("p",[t._v(t._s(t.$t("您的存款系统正在处理中，请您耐心等待")))]),a("p",{staticStyle:{"margin-top":"20px"}},[t._v(" "+t._s(t.secondToDate(t.datatimer))+" ")])]):a("div",[a("h2",{staticStyle:{"margin-top":"20px"}},[t._v(" "+t._s(t.payment.name)+" ")]),a("p",[t._v(t._s(t.$t("您是否完成存款，完成存款点击已完成支付哦")))]),a("p",{staticStyle:{"margin-top":"20px"}},[t._v(" "+t._s(t.secondToDate(t.datatimer))+" ")])]),a("div",{staticClass:"buttons"},[2==t.payType||6==t.payType||12==t.payType||13==t.payType||14==t.payType?a("el-button",{attrs:{type:"primary"},on:{click:t.gorecorddeposit}},[t._v(" "+t._s(t.$t("message.paymenthis"))+" ")]):a("el-button",{attrs:{type:"primary"},on:{click:t.onFinishPay}},[t._v(" "+t._s(t.$t("message.paymentCompleted"))+" ")]),a("el-button",{on:{click:t.onContact}},[t._v(" "+t._s(t.$t("message.troubleInPayment"))+" ")])],1)]:t._e()],2===t.status||4===t.status?[2===t.status?a("div",{staticClass:"icon"},[a("i",{staticClass:"el-icon-success"})]):a("div",{staticClass:"icon"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.icons[t.payType],expression:"icons[payType]"}]})]),a("h2",{staticStyle:{"margin-top":"12px"}},[t._v(" "+t._s(t.payment.name)+" ")]),2===t.status?a("p",{attrs:{html:t.$t("message.transferSuccessTips")}}):a("p",[t._v(" "+t._s(t.payment.name)+"支付成功，正在为您上分 ")]),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onContinue}},[t._v(" "+t._s(t.$t("message.continueRecharge"))+" ")]),a("el-button",{on:{click:t.onRetrunHome}},[t._v(" "+t._s(t.$t("message.returnHome"))+" ")])],1)]:t._e(),3===t.status?[a("div",{staticClass:"icon"},[a("i",{staticClass:"el-icon-warning"})]),a("h2",{staticStyle:{"margin-top":"20px"}},[t._v(" "+t._s(t.payment.name)+" ")]),a("p",[t._v(t._s(t.$t("message.failReanson"))+":"+t._s(t.reasonForFailure))]),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{type:"primary"},on:{click:t.$openKefu}},[t._v(" "+t._s(t.$t("message.troubleInPayment"))+" ")]),a("el-button",{on:{click:t.onCancel}},[t._v(" "+t._s(t.$t("message.cancel"))+" ")])],1)]:t._e()],2)],1)},E=[],j=(a("96cf"),{NEW:0,PAYING:1,SUCCESS:2,FAIL:3,FINSHE:4}),F={props:["order","payment","initStatus","visible"],data:function(){return{icons:u,customerServiceUrl:"",types:[],status:j.NEW,reasonForFailure:"",pay:!0,timer:null,datatimer:900,showTip:!0}},computed:{payType:function(){return this.payment&&this.payment.id},dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},created:function(){2!==this.payType&&6!==this.payType&&12!==this.payType&&13!==this.payType&&14!=this.payType||(this.status=j.PAYING,this.timerAction())},beforeDestroy:function(){clearInterval(this.timer)},methods:{onPay:function(){this.status=j.PAYING,this.timerAction(),this.showTip=!1},onContact:function(){this.$openKefu()},onRetrunHome:function(){this.$emit("cancel"),this.$store.dispatch("user/getUserInfo",!0),window.localStorage.removeItem("thirdPayMsg")},secondToDate:function(t){var e=Math.floor(t/60%60),a=Math.floor(t%60);return e+this.$t("分钟")+a+this.$t("秒")},timerAction:function(){var t=this;this.datatimer=900,this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){t.datatimer--,t.datatimer<=0&&t.onCancel()}),1e3)},gorecorddeposit:function(){this.onCancel(),this.$router.push({path:"/record/deposit"})},onCancel:function(){this.$emit("cancel")},onContinue:function(){this.$emit("cancel"),this.$store.dispatch("user/getUserInfo",!0),window.localStorage.removeItem("thirdPayMsg")},onFinishPay:function(){var t,e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(Object(s["i"])({trade_no:this.order.trade_no}));case 2:t=a.sent,e=t.pay_status,1===e?(this.reasonForFailure=this.$t("message.unpaid"),this.status=j.FAIL):2===e?(2===this.payType||6===this.payType||12===this.payType||13===this.payType||14==this.payType?this.status=j.SUCCESS:this.status=j.FINSHE,console.log(123123,this.status),this.$store.dispatch("user/getUserInfo",!0),window.localStorage.removeItem("thirdPayMsg")):4===e&&(this.status=j.FAIL);case 5:case"end":return a.stop()}}),null,this)},onFailConfirm:function(){this.$emit("cancel")}}},U=F,q=(a("7987"),Object(h["a"])(U,D,E,!1,null,"28fef131",null)),V=q.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"deposit-dialog"},[n("el-dialog",{attrs:{title:t.$t("存款流程说明"),visible:t.dialogVisible,width:"700px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticClass:"dialoContent"},[n("el-image",{attrs:{src:a("e34b"),lazy:""}},[n("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[n("i",{staticClass:"el-icon-loading"})])])],1)])],1)},z=[],H={name:"DepositTeach",props:{payments:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,activeName:"active0",activeindex:0}},mounted:function(){},methods:{handleClick:function(t){this.activeindex=t.index},changeindex:function(t){1===t?(this.activeindex--,-1===this.activeindex&&(this.activeindex=this.payments.length-1),this.activeName="active"+this.activeindex):(this.activeindex++,this.activeindex===this.payments.length&&(this.activeindex=0),this.activeName="active"+this.activeindex)}}},J=H,R=(a("9569"),Object(h["a"])(J,G,z,!1,null,"e2c5af56",null)),L=R.exports,K={name:"Deposit",components:{PaymentType:$,BankAccount:T,Chip:A,BankItem:B["a"],PaymentDialog:V,DepositTeach:L},data:function(){return{payTypeData:[],payments:[],payment:null,payType:1,allGameCate:{},moneys:[],money:"",banks:[],bank:null,bankId:"",activities:[],activity:null,activityId:"",activeindex:0,realName:"",submiting:!1,flow:1,flowText:"",haskefupay:!1,bankAccount:null,paymentInfo:{min_money:0,max_money:1e3,is_suit_money:1,is_need_bank_code:2,quick_money_list:""},order:null,dialogVisible:!1,thirdPayMsg:{product_name:"",busi_pay_type:""},aoMenUi:["takchun","10012","10013","mgm8","10006","10020","10011","10007","10009","10010","10008","10014","10018","10019","10016","10034","10057"],zbUi:["10030","10061"].includes("10031")}},watch:{money:{handler:function(t,e){var a=this.activity;this.flowCalculation(t,a)},immediate:!0},activity:{handler:function(t,e){var a=this.money;this.flowCalculation(a,t)},immediate:!0}},created:function(){var t=this;console.log(this.$route.query),1*this.$route.query.busi_pay_type===1&&(localStorage.setItem("thirdPayMsg",JSON.stringify(this.$route.query)),this.thirdPayMsg=this.$route.query),!this.$route.query.busi_pay_type&&localStorage.getItem("thirdPayMsg")&&(this.thirdPayMsg=JSON.parse(localStorage.getItem("thirdPayMsg")));this.$Loading();Promise.all([this.getPaytypes(),this.getAllBanklist(),this.getActivities(),this.getAllGames()]).then((function(){t.paymentsShow=!t.payment}))},methods:{getPaytypes:function(){var t=this;Object(s["u"])({busi_pay_type:this.thirdPayMsg?this.thirdPayMsg.busi_pay_type:this.$route.query.busi_pay_type||""}).then((function(e){t.payTypeData=e}))},getDepositInfo:function(){var t=this,e=this.payment.pay_method_id,a={pay_method_id:e};Object(s["t"])(a).then((function(a){t.paymentInfo=Object.assign({pay_method_id:e},a),t.moneys=a.quick_money_list}))},getBanklist:function(){var t=this,e={pay_type:this.payType,pay_method_id:this.payment.pay_method_id};Object(s["g"])(e).then((function(e){t.banks=e;var a=JSON.parse(JSON.stringify(t.allBanksForPayOnline));t.banksForPayOnline=[],a.forEach((function(e){t.banksForPayOnline.push(e)}))}))},getAllBanklist:function(){var t=this;Object(s["b"])().then((function(e){t.allBanks=e;var a=JSON.parse(JSON.stringify(e));t.allBanksForPayOnline=a}))},getActivities:function(){var t=this;if(this.$route.params.table){var e=this.$route.params.table;this.activities.push({id:"",flow:1,name:"大转盘-存款".concat(e.recharge_money,"送").concat(e.gift_money,"兑换券"),table:e})}else Object(s["v"])().then((function(e){t.activities=[{id:"",flow:1,name:t.$t("不参与优惠活动")}],t.activities=t.activities.concat(e)}))},getAllGames:function(){var t=this;Object(o["b"])().then((function(e){t.allGameCate=e}))},getMerchantBank:function(){var t=this,e=this.payment.pay_method_id;Object(s["p"])({pay_method_id:e}).then((function(e){t.bankAccount=e}))},initData:function(){this.money="",this.bank=null,this.bankId="",this.activity=null,this.activityId="",this.realName="",this.thirdPayMsg.money&&(this.money=1*this.thirdPayMsg.money)},selectAmount:function(t){this.thirdPayMsg.money&&1*t<this.thirdPayMsg.money?this.$message.error(this.$t("请选择大于油条充值的金额")):this.money=t},onPaymentSelected:function(t,e){var a=t&&t.id||0,n=this.$Loading();this.initData(),this.payment=t,this.payType=a,this.order=null,Promise.all([this.getMerchantBank(),this.getDepositInfo(),this.getBanklist()]).then((function(t){n.close()}))},onActivityChange:function(t){var e=this.activities,a=e.find((function(e){return e.id===t}));this.activity=a},onSubmit:function(){var t=this,e=this.payment,a=this.money,n=this.bankId,i=this.activityId,o=this.payType,c=this.realName,r=this.thirdPayMsg,l=this.paymentInfo,p=this.bankAccount,u=l.min_money,m=l.max_money;if(!a)return this.$message.error(this.$t("message.saveMoneyPlaceholder"));if(Number(a)<Number(u)||Number(a)>Number(m)){var d=this.$t("message.rechargeAmountDesc",[u,m]);return this.$message.error(d)}if(!e||!e.id)return this.$message.error(this.$t("请选择存款渠道"));if(6===e.id){if(!c)return this.$message.error(this.$t("请输入支付宝姓名"))}else if(2===e.id&&!c)return this.$message.error(this.$t("请输入转账银行真实姓名"));if(1===l.is_need_bank_code&&!n)return this.$message.error(this.$t("message.chooseBank"));var y={pay_type:o,domain:window.location.host,user_bank_id:n,alipay_name:c,bank_name:c,money:parseFloat(a),activity_id:i,remark:p&&p.rand_num,recive_bankaccount_id:p&&p.id,pay_method_id:l.pay_method_id,busi_pay_type:r.busi_pay_type||"",busi_trade_no:r.busi_trade_no||"",busi_notify_url:r.busi_notify_url||""};this.submiting=!0,Object(s["s"])(y).then((function(e){t.order=e,t.dialogVisible=!0,t.submiting=!1})).catch((function(e){t.submiting=!1}))},flowCalculation:function(t,e){if(t&&e&&e.flow){var a=1.3*t*this.flow;this.flowText="流水要求：流水倍数".concat(this.flow,"，最低有效投注额").concat(a)}else this.flowText="流水要求：流水倍数".concat(this.flow,"，最低有效投注额0")},onCancel:function(){this.order=null,this.dialogVisible=!1},showDepositTips:function(){this.$refs.depositTeach.dialogVisible=!0,this.$refs.depositTeach.activeName="active"+this.activeindex}}},Y=K,Q=(a("8181"),a("7cda"),a("3c18"),Object(h["a"])(Y,n,i,!1,null,"5289a78b",null));e["default"]=Q.exports},e492:function(t,e,a){},f2e6:function(t,e,a){"use strict";var n=a("e492"),i=a.n(n);i.a},fb97:function(t,e,a){}}]);