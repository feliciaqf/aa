(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5def4398"],{"082a":function(t,e,a){t.exports={agent_nav_title:"#FF2C00",agent_chart_color:"#FF2C00"}},1713:function(t,e,a){},2674:function(t,e,a){},"3bb1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"multiple-section"},[n("div",{staticClass:"section"},[n("div",{staticClass:"main-top"},[n("h2",[t._v(" "+t._s(t.$t(t.$route.meta.title))+" ")]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("Left Center 提示文字"),placement:"right"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[t._v(t._s(t.$t("您的收益率"))+"："+t._s((100*t.myWallet.day_rate).toFixed(2))+"%")]),n("p",[t._v(t._s(t.$t("理财小金库是对于您余额空闲时能够产生高利息产品，收益率将按照转入金额*不同等级收益率，每天下午16点准时为您发放利息")))])]),n("i",{directives:[{name:"show",rawName:"v-show",value:t.myWallet.hasOwnProperty("day_rate"),expression:"myWallet.hasOwnProperty('day_rate')"}],staticClass:"el-icon-question"})])],1),n("div",{staticClass:"main-body"},[n("layout",{attrs:{"justify-space-between":"","align-start":""}},[n("el-form",{ref:"form",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[n("el-form-item",{staticClass:"account",attrs:{prop:"",label:t.$t("message.accountSelect")}},[n("layout",{staticClass:"multiple",attrs:{"justify-space-between":"","align-center":""}},[n("el-select",{staticClass:"tall",attrs:{placeholder:t.$t("请选择")},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}},t._l(t.accountTypes,(function(t){return n("el-option",{key:t.game_platform_id,attrs:{value:t.game_platform_id,label:t.game_platform_name}})})),1),t.arrowStatus?n("img",{staticClass:"pointer",attrs:{src:a("1627")},on:{click:t.exchange}}):n("img",{staticClass:"pointer translate",attrs:{src:a("1627")},on:{click:t.exchange}}),n("el-select",{staticClass:"tall",attrs:{placeholder:t.$t("请选择")},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}},t._l(t.accountTypes,(function(t){return n("el-option",{key:t.game_platform_id,attrs:{value:t.game_platform_id,label:t.game_platform_name}})})),1)],1)],1),n("el-form-item",{staticClass:"amount",attrs:{prop:"money"}},[n("el-input",{staticClass:"amount tall",attrs:{placeholder:t.$t("message.transferAmount")},model:{value:t.form.money,callback:function(e){t.$set(t.form,"money",e)},expression:"form.money"}},[n("span",{attrs:{slot:"prefix"},slot:"prefix"},[t._v("¥")])])],1),n("el-form-item",[n("el-button",{staticClass:"submit",attrs:{type:"primary",loading:t.submitLoading},on:{click:t.onSubmit}},[t._v(" "+t._s(t.$t("message.transferConfirm"))+" ")])],1)],1),n("layout",{staticClass:"wallet",attrs:{"justify-space-between":"","align-stretch":""}},[n("layout",{staticClass:"wallet-main",attrs:{"justify-center":"",column:""}},[n("layout",{attrs:{"justify-center":"","align-center":"",column:""}},[n("h2",[t._v(t._s(t._f("currency")(t.myWallet.financing_money,"")))]),n("p",[t._v(t._s(t.$t("钱包总资产(元)")))])]),n("layout",{attrs:{"justify-center":"","align-center":"",column:""}},[n("h2",[t._v(t._s(t._f("currency")(t.myWallet.max_profit,"")))]),n("p",[t._v(t._s(t.$t("最高收益(元)")))])])],1),n("layout",{staticClass:"wallet-more",attrs:{"justify-space-between":"","align-content-space-between":"",wrap:""}},[n("layout",{attrs:{"justify-center":"","align-center":"",column:""}},[n("h2",[t._v(t._s(t._f("currency")(t.myWallet.all_profit,"")))]),n("p",[t._v(t._s(t.$t("历史累计收益(元)")))])]),n("layout",{attrs:{"justify-center":"","align-center":"",column:""}},[n("h2",[t._v(t._s(t._f("currency")(t.myWallet.month_profit,"")))]),n("p",[t._v(t._s(t.$t("本月累计收益(元)")))])]),n("layout",{attrs:{"justify-center":"","align-center":"",column:""}},[n("h2",[t._v(t._s(t._f("currency")(t.myWallet.week_profit,"")))]),n("p",[t._v(t._s(t.$t("本周累计收益(元)")))])]),n("layout",{attrs:{"justify-center":"","align-center":"",column:""}},[n("h2",[t._v(t._s(t._f("currency")(t.myWallet.day_profit,"")))]),n("p",[t._v(t._s(t.$t("昨日收益(元)")))])])],1)],1)],1),n("div",{staticClass:"tiptxt"},[n("img",{attrs:{src:t.$imgs["financial/tishi"],alt:"",srcset:""}}),t._v(" "+t._s(t.$t("收益会在每天下午6点准时发放哦"))+" ")])],1)]),n("div",{staticClass:"section"},[n("div",{staticClass:"main-body"},[n("RecordFilter",{attrs:{loading:t.onSearching,init:!0,"status-data":t.transTypes},on:{search:t.setSearchParams}}),n("RecordTable",{attrs:{"table-columns":t.tableColumns,"table-data":t.tableData,type:t.dataType,loading:t.onSearching,"empty-icon":a("f822"),"empty-text":t.$t("暂无交易记录")}}),n("el-pagination",{attrs:{"hide-on-single-page":!0,background:"",layout:"prev, pager, next","page-size":t.pagination.size,"current-page":t.pagination.page,total:t.pagination.total},on:{"update:currentPage":function(e){return t.$set(t.pagination,"page",e)},"update:current-page":function(e){return t.$set(t.pagination,"page",e)},"current-change":t.onPageChange}})],1)])])},r=[],s=(a("d81d"),a("b680"),a("93dd")),l=a("b717"),i=a("5785"),o=a("b166"),c={name:"Financial",components:{RecordFilter:l["a"],RecordTable:i["a"]},data:function(){this.$createElement;return{accountTypes:[{game_platform_name:this.$t("主账户"),game_platform_id:"0"}],myWallet:{},submitLoading:!1,form:{money:"",from:"0",to:"1"},value1:"0",value2:"1",rules:{money:{required:!0,message:this.$t("转账金额不能为空"),trigger:"blur"}},transTypes:{},onSearching:!1,searchParams:{},pagination:{page:1,total:1,size:20},arrowStatus:!0,tableData:[],dataType:"financial",tableColumns:[{prop:"created_at",label:this.$t("record.financial.created_at"),width:210},{prop:"trade_no",label:this.$t("record.financial.trade_no"),width:210},{prop:"type",label:this.$t("record.financial.type")},{prop:"money",label:this.$t("record.financial.money")},{prop:"rate",label:this.$t("record.financial.rate"),cellType:"slots",renderCell:function(t,e){return t("span",[(100*e.row.rate).toFixed(2)+"%"])}},{prop:"day",label:this.$t("record.financial.day"),width:140}]}},watch:{"form.from":function(t){this.form.to=""===t||"0"===t?"1":"0"},"form.to":function(t){this.form.from=""===t||"0"===t?"1":"0"}},created:function(){this.getAccountType(),this.getMyWallet()},methods:{getAccountType:function(){var t=this;Object(s["d"])().then((function(e){for(var a in e)e.hasOwnProperty(a)&&t.accountTypes.push({game_platform_name:e[a],game_platform_id:a})}))},getMyWallet:function(){var t=this;Object(s["s"])().then((function(e){t.myWallet=e}))},getTransType:function(t){var e=this;Object(s["c"])().then((function(a){e.transTypes=Object.assign({0:e.$t("全部类型")},a),console.log(e.transTypes),t()}))},exchange:function(){this.arrowStatus=!this.arrowStatus,this.arrowStatus?(this.form.from=this.value1,this.form.to=this.value2):(this.form.from=this.value2,this.form.to=this.value1)},onSubmit:function(){var t=this;this.$refs.form.validate((function(e){if(e){t.submitLoading=!0;var a=t.form,n=a.money,r=a.from,l=a.to,i={money:n,from_platform_id:r,to_platform_id:l};Object(s["r"])(i).then((function(){t.submitLoading=!1,t.$message.success(t.$t("转账成功")),t.$store.dispatch("user/getWallet"),t.getMyWallet()})).catch((function(){t.submitLoading=!1}))}}))},onPageChange:function(t){this.pagination.page=t,this.doSearch()},setSearchParams:function(t){var e=this;this.transTypes&&this.transTypes.length?(this.pagination.page=1,this.searchParams=t,this.doSearch()):this.getTransType((function(){e.pagination.page=1,e.searchParams=t,e.doSearch()}))},doSearch:function(){var t=this,e=this.searchParams,a=e.startTime,n=e.endTime,r=e.status,l={page:this.pagination.page,start_time:a&&Object(o["a"])(a,"yyyy-MM-dd"),end_time:n&&Object(o["a"])(n,"yyyy-MM-dd"),type:r&&"0"!==r?r:""},i=this.transTypes;this.onSearching=!0,Object(s["A"])(l).then((function(e){t.tableData=e.data.map((function(t){return t.type=i[t.type],t})),t.pagination.total=e.total,t.onSearching=!1})).catch((function(){t.onSearching=!1}))}}},u=c,p=(a("bde5"),a("7c1b"),a("2877")),f=Object(p["a"])(u,n,r,!1,null,"109810aa",null);e["default"]=f.exports},"3bfa":function(t,e,a){"use strict";var n=a("1713"),r=a.n(n);r.a},5785:function(t,e,a){"use strict";var n,r,s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",height:t.height,loading:t.loading}},[t._l(t.tableColumns,(function(e,n){return a("table-column-plus",t._b({key:n},"table-column-plus",e,!1))})),a("EmptyData",{attrs:{slot:"empty",icon:t.emptyIcon,text:t.emptyText},slot:"empty"})],2)},l=[],i=(a("c975"),a("a9e3"),a("caad"),a("ecdf")),o=a.n(i),c={slots:function(t,e){var a=this,n=function(){return a.renderCell?a.renderCell(t,e):""};return t("div",{class:"cell"},[n(t,e)])}},u={extends:o.a,props:{prop:{type:[String,Number]},cellType:{type:String,validator:function(t){var e=["text","input","slots"].includes(t);return!e&&console.error("columnPlus组件不适配 ".concat(t," 类型")),e}},renderCell:{type:Function}},created:function(){c[this.cellType]&&(this.columnConfig.renderCell=c[this.cellType].bind(this))}},p=u,f=a("2877"),m=Object(f["a"])(p,n,r,!1,null,null,null),d=m.exports,y=a("8a0d7"),h={name:"RecordTable",components:{TableColumnPlus:d,EmptyData:y["a"]},props:{tableData:{type:Array,default:function(){return[]}},tableColumns:{type:Array,default:function(){return[]}},type:{type:String,default:function(){return""}},height:{type:Number,default:function(){return null}},loading:{type:Boolean,default:function(){return!1}},emptyIcon:{type:String,default:function(){return""}},emptyText:{type:String,default:function(){return this.$t("暂无数据")}}},data:function(){return{}},methods:{getwidth:function(t){return-1!==["created_at","trade_no"].indexOf(t)?210:""},computeRow:function(t,e){return"rate"===t?100*e+"%":e}}},g=h,b=(a("afee"),Object(f["a"])(g,s,l,!1,null,"1ea5b1b2",null));e["a"]=b.exports},"5dea":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var n=a("fe1f"),r=a("f7f1");function s(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var a=Object(n["a"])(e);return Object(r["a"])(t,-a)}},"6ca7":function(t,e,a){},"6f7d":function(t,e,a){},"7c1b":function(t,e,a){"use strict";var n=a("082a"),r=a.n(n);r.a},"8a0d7":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{staticClass:"empty-data",attrs:{"justify-center":"","align-center":"",column:""}},[a("layout",{attrs:{"grow-0":""}},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.icon,expression:"icon"}]})]),a("p",[t._v(t._s(t.text))])],1)},r=[],s={name:"EmptyData",props:{icon:{type:String,default:function(){return a("a1ae")}},text:{type:String,default:function(){return this.$t("没有任何记录")}}}},l=s,i=(a("a4b2"),a("2877")),o=Object(i["a"])(l,n,r,!1,null,"1e45ccb0",null);e["a"]=o.exports},a4b2:function(t,e,a){"use strict";var n=a("2674"),r=a.n(n);r.a},a618:function(t,e,a){"use strict";var n=a("fe1f"),r=a("fd3a");function s(t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var e=Object(r["a"])(t),a=e.getFullYear(),n=e.getMonth(),s=new Date(0);return s.setFullYear(a,n+1,0),s.setHours(0,0,0,0),s.getDate()}function l(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var a=Object(r["a"])(t),l=Object(n["a"])(e),i=a.getMonth()+l,o=new Date(0);o.setFullYear(a.getFullYear(),i,1),o.setHours(0,0,0,0);var c=s(o);return a.setMonth(i,Math.min(c,a.getDate())),a}function i(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var a=Object(n["a"])(e);return l(t,-a)}a.d(e,"a",(function(){return i}))},afee:function(t,e,a){"use strict";var n=a("6ca7"),r=a.n(n);r.a},b717:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{staticClass:"filters",attrs:{"justify-start":"","align-center":""}},[a("layout",{staticClass:"date",attrs:{"justify-space-between":"","align-center":""}},[a("el-date-picker",{staticClass:"start-date",attrs:{type:t.dateType,placeholder:t.$t("开始时间")},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),a("div",{staticClass:"line"}),a("el-date-picker",{staticClass:"end-date",attrs:{type:t.dateType,placeholder:t.$t("截止时间")},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),t.statusData?a("layout",{staticClass:"status",attrs:{"justify-space-between":"","align-center":""}},[a("el-select",{attrs:{placeholder:t.$t("请选择")},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},t._l(t.statusData,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})),1)],1):t._e(),t.typeData?a("layout",{staticClass:"status",attrs:{"justify-space-between":"","align-center":""}},[a("el-select",{attrs:{placeholder:t.$t("请选择")},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.typeData,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})})),1)],1):t._e(),t.levelData?a("layout",{staticClass:"status",attrs:{"justify-space-between":"","align-center":""}},[a("el-select",{attrs:{placeholder:t.$t("会员等级")},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},t._l(t.levelData,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.level}})})),1)],1):t._e(),t._t("input"),a("layout",{staticClass:"button",attrs:{"justify-space-between":"","align-center":""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",loading:t.loading},on:{click:t.onClick}},[t._v(" "+t._s(t.$t(t.buttonText))+" ")])],1)],2)},r=[],s=(a("0d03"),a("a9e3"),a("a618")),l=a("fc4c"),i=a("5dea"),o={name:"RecordFilter",props:{statusData:{type:Object,default:function(){return null}},loading:{type:Boolean,default:function(){return!1}},init:{type:Boolean,default:function(){return!0}},dateType:{type:String,default:"date"},start:{type:String,default:""},end:{type:String,default:""},interval:{type:Number,default:0},buttonText:{type:String,default:"查询"},levelData:{type:Array,default:function(){return null}},typeData:{type:Object,default:function(){return null}}},data:function(){var t=new Date,e=this.dateType,a=this.interval,n=this.start,r=this.end,o="",c="";return"month"===e?("none"!==n&&(o=Object(s["a"])(t,a||6)),"none"!==r&&(c=Object(s["a"])(t,0))):"week"===e?("none"!==n&&(o=Object(l["a"])(t,a||10)),"none"!==r&&(c=Object(l["a"])(t,0))):("none"!==n&&(o=Object(i["a"])(t,a||7)),"none"!==r&&(c=Object(i["a"])(t,0))),console.log(111,o,c),{startTime:o,endTime:c,status:"0",level:null,type:"1"}},created:function(){var t=this;this.$on("doSearch",(function(){t.onClick()})),this.init&&this.onClick()},methods:{onClick:function(){var t=this.startTime,e=this.endTime,a=this.status,n=this.level,r=this.type;console.log(t,e),this.$emit("search",{startTime:t,endTime:e,status:a,level:n,type:r})}}},c=o,u=(a("3bfa"),a("2877")),p=Object(u["a"])(c,n,r,!1,null,"b65c03a2",null);e["a"]=p.exports},bde5:function(t,e,a){"use strict";var n=a("6f7d"),r=a.n(n);r.a},f7f1:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var n=a("fe1f"),r=a("fd3a");function s(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var a=Object(r["a"])(t),s=Object(n["a"])(e);return a.setDate(a.getDate()+s),a}},fc4c:function(t,e,a){"use strict";var n=a("fe1f"),r=a("f7f1");function s(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var a=Object(n["a"])(e),s=7*a;return Object(r["a"])(t,s)}function l(t,e){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var a=Object(n["a"])(e);return s(t,-a)}a.d(e,"a",(function(){return l}))}}]);