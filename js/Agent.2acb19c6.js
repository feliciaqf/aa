(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Agent"],{"0213":function(t,e,n){"use strict";var i=n("d699"),a=n.n(i);a.a},5686:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-wrap"},[n("NavBarAgent"),n("div",{staticClass:"wrap-right"},[n("WalletTop"),n("router-view")],1),n("LoginModal"),n("BankcardAdd"),n("ChangePassword"),n("CreateAccount")],1)},a=[],s=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("2fa7")),r=n("2f62"),o=n("9316"),c=n("3b05"),l=n("305e"),u=n("497a"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"navBarAgent"}},t._l(t.nav,(function(e,i){return n("div",{key:i,staticClass:"item"},[e.children?[n("p",[t._v(t._s(e.text))]),t._l(e.children,(function(e,i){return n("div",{key:i,class:["child",{active:e.params?t.active===e.url&&t.params==e.params:t.active===e.url}],on:{click:function(n){return t.handleClick(e)}}},[n("icon-svg",{attrs:{"data-icon-name":e.icon,"class-name":e.icon}}),n("span",[t._v(t._s(e.text))])],1)}))]:n("div",{class:["item-wrap",{active:t.active===e.url}],on:{click:function(n){return t.handleClick(e)}}},[n("icon-svg",{attrs:{"data-icon-name":e.icon,"class-name":e.icon}}),n("span",[t._v(t._s(e.text))])],1)],2)})),0)},b=[];n("a434"),n("b0c0");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={data:function(){return{active:"AgentDashboard",params:"",nav:[{text:this.$t("首页"),icon:"shouye",url:"AgentDashboard"},{text:this.$t("会员管理"),children:[{text:this.$t("会员列表"),icon:"huiyuanliebiao",url:"AgentUsers"},{text:this.$t("会员开户"),icon:"huiyuankaihu",url:"AgentCreatAccount",params:1}]},{text:this.$t("代理管理"),children:[{text:this.$t("代理列表"),icon:"daililiebiao",url:"AgentSubAgent"},{text:this.$t("代理开户"),icon:"dailikaihu",url:"AgentCreatAccount",params:2}]},{text:this.$t("财务中心"),children:[{text:this.$t("下级代充"),icon:"xiajidaichong",url:"AgentGenerationCharge"},{text:this.$t("财务报表"),icon:"caiwubaobiao",url:"AgentMoneychange"},{text:this.$t("佣金报表"),icon:"yongjinbaobiao",url:"AgentCommission"},{text:this.$t("充值"),icon:"xiajidaichong",url:"AgentRecharge"}]},{text:this.$t("推广中心"),children:[{text:this.$t("推广链接"),icon:"tuiguanglianjie",url:"AgentSpreadUrl"},{text:this.$t("推广素材"),icon:"tuiguangsucai",url:"AgentMaterial"}]},{text:this.$t("个人中心"),children:[{text:this.$t("遗漏申请"),icon:"yiloushenqing",url:"AgentMissApply"},{text:this.$t("个人资料"),icon:"gerenziliao",url:"AgentProfile"},{text:this.$t("银行卡管理"),icon:"yinhangkaguanli",url:"AgentBankcard"},{text:this.$t("修改密码"),icon:"xiugaimima",url:"AgentChangePassword"}]}]}},computed:h({},Object(r["e"])("agent",["userInfo"])),watch:{$route:function(t){this.active=t.name,this.params=t.params.type||""},userInfo:{handler:function(t){console.log("userInfo",t),this.nav[2].text===this.$t("代理管理")&&(t&&2!==t.spread_switch?(this.nav.splice(2,1),t&&2!==t.deposit_switch&&this.nav[2].children.splice(3,1)):t&&2!==t.deposit_switch&&this.nav[3].children.splice(3,1))},deep:!0}},created:function(){this.active=this.$route.name,this.params=this.$route.params.type||""},methods:h({},Object(r["b"])("agent",["setLoginVisible","setChangePasswordVisible","setCreateAccountVisible"]),{handleClick:function(t){t.params?this.$router.push({name:t.url,params:{type:t.params}}):this.$router.push({name:t.url})}})},g=f,m=(n("5e26"),n("2877")),v=Object(m["a"])(g,d,b,!1,null,"12f22cac",null),y=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"walletTop"}},[n("layout",{staticClass:"wallet"},[n("layout",{staticClass:"block",attrs:{"justify-space-between":"","align-center":"",column:""}},[n("layout",{staticClass:"width280",attrs:{"align-center":""}},[n("layout",{staticClass:"icon",attrs:{"grow-shrink-0":"","justify-center":"","align-center":""}},[n("icon-svg",{attrs:{"data-icon-name":"dailiqianbao","class-name":"dailiqianbao"}})],1),n("div",{staticClass:"info"},[n("p",[t._v(" "+t._s(t.$t("代理钱包(元)"))+" "),n("el-tooltip",{attrs:{content:t.$t("用来给下级转账使用的金额，无法提款。可以联系客服进行充值或者使用佣金钱包转账"),placement:"bottom"}},[n("span",{staticClass:"tip-action"},[n("i",{staticClass:"el-icon-question"})])])],1),n("h3",{directives:[{name:"loading",rawName:"v-loading",value:t.userInfoLoading,expression:"userInfoLoading"}],attrs:{"element-loading-background":"transparent"}},[t.userInfoLoading?t._e():[t._v(t._s(t._f("currency")(t.userInfo&&t.userInfo.money,"")))]],2)]),n("el-button",{staticClass:"deposit-button",on:{click:t.deposit}},[t._v(" "+t._s(t.$t("充值"))+" ")])],1),n("layout",{staticClass:"width280",attrs:{"align-center":""}},[n("layout",{staticClass:"icon agentWallet",attrs:{"grow-shrink-0":"","justify-center":"","align-center":""}},[n("icon-svg",{attrs:{"data-icon-name":"yongjinqianbao","class-name":"yongjinqianbao"}})],1),n("div",{staticClass:"info"},[n("p",[t._v(" "+t._s(t.$t("佣金钱包(元)"))+" "),n("el-tooltip",{attrs:{content:t.$t("用来发放佣金的钱包，可以直接提款或者充值给代理钱包进行下级转账"),placement:"bottom"}},[n("span",{staticClass:"tip-action"},[n("i",{staticClass:"el-icon-question"})])])],1),n("h3",{directives:[{name:"loading",rawName:"v-loading",value:t.userInfoLoading,expression:"userInfoLoading"}],attrs:{"element-loading-background":"transparent"}},[t.userInfoLoading?t._e():[t._v(t._s(t._f("currency")(t.userInfo&&t.userInfo.commission_money,"")))]],2)]),n("el-button",{staticClass:"withdraw-button",on:{click:t.withdraw}},[t._v(" "+t._s(t.$t("提现"))+" ")])],1)],1),n("layout",{staticClass:"block right",attrs:{column:""}},[n("h4",[t._v(t._s(t.$t("数据概览")))]),n("layout",{staticClass:"bottom",attrs:{"justify-space-between":"","align-center":""}},[n("layout",{attrs:{"justify-space-between":"","align-center":"",column:""}},[n("layout",{staticClass:"icon",attrs:{"grow-shrink-0":"","justify-center":"","align-center":""}},[n("icon-svg",{attrs:{"data-icon-name":"xinzhuce","class-name":"xinzhuce"}})],1),n("div",{staticClass:"info"},[n("h3",[t._v(t._s(t.relationData.new_members))]),n("p",[t._v(" "+t._s(t.$t("本月新注册(人)"))+" ")])])],1),n("layout",{attrs:{"justify-space-between":"","align-center":"",column:""}},[n("layout",{staticClass:"icon",attrs:{"grow-shrink-0":"","justify-center":"","align-center":""}},[n("icon-svg",{attrs:{"data-icon-name":"huoyuehuiyuan","class-name":"huoyuehuiyuan"}})],1),n("div",{staticClass:"info"},[n("h3",[t._v(t._s(t.relationData.active_members))]),n("p",[t._v(" "+t._s(t.$t("本月活跃会员(人)"))+" ")])])],1),n("layout",{attrs:{"justify-space-between":"","align-center":"",column:""}},[n("layout",{staticClass:"icon",attrs:{"grow-shrink-0":"","justify-center":"","align-center":""}},[n("icon-svg",{attrs:{"data-icon-name":"benyuechunli","class-name":"benyuechunli"}})],1),n("div",{staticClass:"info"},[n("h3",[t._v(t._s(t._f("currency")(t.relationData.profit,"")))]),n("p",[t._v(" "+t._s(t.$t("本月纯利(元)"))+" ")])])],1),n("layout",{attrs:{"justify-space-between":"","align-center":"",column:""}},[n("layout",{staticClass:"icon",attrs:{"grow-shrink-0":"","justify-center":"","align-center":""}},[n("icon-svg",{attrs:{"data-icon-name":"benyueyongjin","class-name":"benyueyongjin"}})],1),n("div",{staticClass:"info"},[n("h3",[t._v(t._s(t._f("currency")(t.relationData.children_commission,"")))]),n("p",[t._v(" "+t._s(t.$t("本月下级抽佣(元)"))+" ")])])],1),n("layout",{attrs:{"justify-space-between":"","align-center":"",column:""}},[n("layout",{staticClass:"icon",attrs:{"grow-shrink-0":"","justify-center":"","align-center":""}},[n("icon-svg",{attrs:{"data-icon-name":"benyueyongjin","class-name":"benyueyongjin"}})],1),n("div",{staticClass:"info"},[n("h3",[t._v(t._s(t._f("currency")(t.relationData.commission,"")))]),n("p",[t._v(" "+t._s(t.$t("本月佣金(元)"))+" ")])])],1)],1)],1)],1),n("Withdraw"),n("Deposit",{attrs:{"dialog-deposit-visible":t.dialogDepositVisible},on:{"update:dialogDepositVisible":function(e){t.dialogDepositVisible=e},"update:dialog-deposit-visible":function(e){t.dialogDepositVisible=e}}})],1)},_=[],j=(n("d3b7"),n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{id:"deposit",visible:t.visible,"before-close":t.handleClose,width:"600px",title:t.$t("代理钱包充值")},on:{"update:visible":function(e){t.visible=e}}},[n("div",{staticClass:"formWrap"},[n("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[n("el-radio",{attrs:{label:1}},[t._v(" "+t._s(t.$t("客服充值"))+" ")]),n("el-radio",{attrs:{label:2}},[t._v(" "+t._s(t.$t("佣金钱包转移"))+" ")])],1),n("p",[t._v(t._s(t.$t("内充金额")))]),n("el-input",{attrs:{placeholder:t.$t("请输入转账金额")},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}}),n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.handleDeposit}},[t._v(" "+t._s(t.$t("确认"))+" ")])],1)])}),O=[],k=n("bbbc"),$={name:"Deposit",props:["dialogDepositVisible"],data:function(){return{onSearching:!1,radio:1,money:""}},computed:{visible:{get:function(){return this.dialogDepositVisible},set:function(t){this.$emit("update:dialogDepositVisible",t)}}},created:function(){},methods:{handleClose:function(){this.visible=!1},handleDeposit:function(){var t=this;1===this.radio?this.$openKefu():Object(k["k"])({money:this.money}).then((function(e){console.log(e),t.$message.success("充值成功"),t.visible=!1,t.$emit("init")}))}}},C=$,x=(n("0213"),Object(m["a"])(C,j,O,!1,null,"8902efc6",null)),P=x.exports,D=n("7884");function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var V={components:{Deposit:P,Withdraw:D["a"]},data:function(){return{dialogDepositVisible:!1,relationData:[]}},computed:I({},Object(r["e"])("agent",["userInfo","userInfoLoading"])),created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.getUserInfo(),t.next=3,regeneratorRuntime.awrap(Object(k["q"])());case 3:this.relationData=t.sent,console.log(this.relationData);case 5:case"end":return t.stop()}}),null,this)},mounted:function(){},methods:I({},Object(r["b"])("agent",["setWithdrawVisible","getUserInfo"]),{withdraw:function(){console.log(111),this.setWithdrawVisible(!0)},deposit:function(){2!==this.userInfo.deposit_switch?this.dialogDepositVisible=!0:this.$router.push({name:"AgentRecharge"})}})},E=V,S=(n("f217"),Object(m["a"])(E,w,_,!1,null,"0e87573a",null)),L=S.exports;function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var q={components:{LoginModal:o["a"],BankcardAdd:c["a"],ChangePassword:l["a"],CreateAccount:u["a"],NavBarAgent:y,WalletTop:L},data:function(){return{visible:!0}},created:function(){},methods:W({},Object(r["b"])("agent",["setLoginVisible"]))},U=q,R=(n("5835"),Object(m["a"])(U,i,a,!1,null,"cb93c1dc",null));e["default"]=R.exports},5835:function(t,e,n){"use strict";var i=n("dd23"),a=n.n(i);a.a},"5e26":function(t,e,n){"use strict";var i=n("9c09"),a=n.n(i);a.a},7608:function(t,e,n){},7884:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"agent-dialog"},[n("el-dialog",{attrs:{visible:t.visible,"before-close":t.handleClose,width:"500px",title:t.$t("agent.withdraw.title")},on:{"update:visible":function(e){t.visible=e}}},[n("el-form",{ref:"form",attrs:{"label-position":"top",rules:t.rules,model:t.form}},[n("el-form-item",{attrs:{prop:"withdraw_money",label:t.$t("agent.withdraw.amount")}},[n("el-input",{attrs:{type:"text",placeholder:t.$t("agent.withdraw.amountPlaceholder")},model:{value:t.form.withdraw_money,callback:function(e){t.$set(t.form,"withdraw_money",e)},expression:"form.withdraw_money"}})],1),n("el-form-item",{attrs:{prop:"user_bank_id",label:t.$t("agent.withdraw.bankcard")}},[n("el-select",{attrs:{placeholder:t.$t("agent.withdraw.bankcardPlaceholder")},model:{value:t.form.user_bank_id,callback:function(e){t.$set(t.form,"user_bank_id",e)},expression:"form.user_bank_id"}},t._l(t.myBankcards,(function(e){return n("el-option",{key:e.id,attrs:{label:e.bank_name+"（"+e.card_no.slice(-4)+"）",value:e.id}},[n("UserBankItem",{class:{selected:t.form.user_bank_id===e.id},attrs:{bank:e}})],1)})),1)],1),n("el-form-item",{attrs:{label:""}},[n("el-button",{staticClass:"submit",attrs:{type:"primary",loading:t.submitLoading},on:{click:t.onSubmit}},[t._v(" "+t._s(t.$t("agent.withdraw.button"))+" ")])],1)],1)],1)],1)},a=[],s=(n("a4d3"),n("4de4"),n("4160"),n("a9e3"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("159b"),n("96cf"),n("2fa7")),r=n("bbbc"),o=n("2f62"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bank-item",on:{click:t.onSelected}},[n("BankIcon",{attrs:{"bank-code":t.bank.icon_code}}),n("span",[t._v(t._s(t.bank.bank_name+"（"+t.bank.card_no.slice(-4)+"）"))]),n("i",{staticClass:"el-icon-check"})],1)},l=[],u=n("b2f1"),d={name:"UserBankItem",components:{BankIcon:u["a"]},props:["bank"],data:function(){return{}},methods:{onSelected:function(){this.$emit("select",this.bank)}}},b=d,p=(n("7da5"),n("2877")),h=Object(p["a"])(b,c,l,!1,null,"14c5aab1",null),f=h.exports;function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={name:"Withdraw",components:{UserBankItem:f},data:function(){var t=this;return{submitLoading:!1,visible:!1,form:{username:"",password:"",repassword:""},rules:{withdraw_money:[{required:!0,trigger:"blur",message:this.$t("agent.withdraw.amountPlaceholder"),type:"number",min:100,transform:function(t){return Number(t)},validator:function(e,n,i){!n||n<100?i(new Error(t.$t("agent.withdraw.amountPlaceholder"))):i()}}],user_bank_id:[{required:!0,trigger:"change",validator:function(e,n,i){n?i():i(new Error(t.$t("agent.withdraw.bankcardPlaceholder")))}}]}}},computed:m({},Object(o["e"])("agent",["userInfo","withdrawVisible"]),{myBankcards:function(){return this.userInfo&&this.userInfo.agent_bank||[]}}),watch:{withdrawVisible:function(t){this.visible=t}},created:function(){this.visible=this.withdrawVisible},mounted:function(){},methods:m({},Object(o["b"])("agent",["setWithdrawVisible","getUserInfo"]),{onSubmit:function(){var t=this;this.$refs["form"].validate((function(e){return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=16;break}return n.prev=1,t.submitLoading=!0,n.next=5,regeneratorRuntime.awrap(Object(r["v"])(t.form));case 5:t.$message.success("申请提现成功，正在处理中！"),t.getUserInfo(),t.$emit("init"),t.setWithdrawVisible(!1),n.next=13;break;case 11:n.prev=11,n.t0=n["catch"](1);case 13:return n.prev=13,t.submitLoading=!1,n.finish(13);case 16:case"end":return n.stop()}}),null,null,[[1,11,13,16]])}))},handleClose:function(t){this.setWithdrawVisible(!1),t&&"function"===typeof t&&t()}})},y=v,w=(n("8e66"),Object(p["a"])(y,i,a,!1,null,"c221d85e",null));e["a"]=w.exports},"7da5":function(t,e,n){"use strict";var i=n("f9d1"),a=n.n(i);a.a},"8e66":function(t,e,n){"use strict";var i=n("90e1"),a=n.n(i);a.a},"90e1":function(t,e,n){},"9c09":function(t,e,n){},d699:function(t,e,n){},dd23:function(t,e,n){},f217:function(t,e,n){"use strict";var i=n("7608"),a=n.n(i);a.a},f9d1:function(t,e,n){}}]);